{"version":3,"sources":["../src/index.ts","../src/combobox.anatomy.ts","../src/combobox.collection.ts","../src/combobox.connect.ts","../src/combobox.dom.ts","../src/combobox.machine.ts"],"sourcesContent":["export { anatomy } from \"./combobox.anatomy\"\nexport { collection } from \"./combobox.collection\"\nexport { connect } from \"./combobox.connect\"\nexport { machine } from \"./combobox.machine\"\nexport type {\n  MachineApi as Api,\n  CollectionItem,\n  CollectionOptions,\n  UserDefinedContext as Context,\n  ElementIds,\n  HighlightChangeDetails,\n  InputValueChangeDetails,\n  ItemGroupLabelProps,\n  ItemGroupProps,\n  ItemProps,\n  ItemState,\n  OpenChangeDetails,\n  Placement,\n  PositioningOptions,\n  ValueChangeDetails,\n} from \"./combobox.types\"\n","import { createAnatomy } from \"@zag-js/anatomy\"\n\nexport const anatomy = createAnatomy(\"combobox\").parts(\n  \"root\",\n  \"label\",\n  \"input\",\n  \"positioner\",\n  \"control\",\n  \"trigger\",\n  \"content\",\n  \"clearTrigger\",\n  \"item\",\n  \"itemText\",\n  \"itemIndicator\",\n  \"itemGroup\",\n  \"itemGroupLabel\",\n)\nexport const parts = anatomy.build()\n","import { Collection, type CollectionItem, type CollectionOptions } from \"@zag-js/collection\"\nimport { ref } from \"@zag-js/core\"\n\nexport const collection = <T extends CollectionItem>(options: CollectionOptions<T>): Collection<T> => {\n  return ref(new Collection(options))\n}\n\ncollection.empty = (): Collection<CollectionItem> => {\n  return ref(new Collection<CollectionItem>({ items: [] }))\n}\n","import { getEventKey, getNativeEvent, isContextMenuEvent, isLeftClick, type EventKeyMap } from \"@zag-js/dom-event\"\nimport { ariaAttr, dataAttr, raf } from \"@zag-js/dom-query\"\nimport { getPlacementStyles } from \"@zag-js/popper\"\nimport type { NormalizeProps, PropTypes } from \"@zag-js/types\"\nimport { parts } from \"./combobox.anatomy\"\nimport { dom } from \"./combobox.dom\"\nimport type { CollectionItem, ItemProps, MachineApi, Send, State } from \"./combobox.types\"\n\nexport function connect<T extends PropTypes, V extends CollectionItem>(\n  state: State,\n  send: Send,\n  normalize: NormalizeProps<T>,\n): MachineApi<T, V> {\n  const translations = state.context.translations\n  const collection = state.context.collection\n\n  const isDisabled = state.context.disabled\n  const isInteractive = state.context.isInteractive\n  const isInvalid = state.context.invalid\n  const isReadOnly = state.context.readOnly\n\n  const isOpen = state.hasTag(\"open\")\n  const isFocused = state.hasTag(\"focused\")\n\n  const popperStyles = getPlacementStyles({\n    ...state.context.positioning,\n    placement: state.context.currentPlacement,\n  })\n\n  function getItemState(props: ItemProps) {\n    const { item } = props\n    const disabled = collection.isItemDisabled(item)\n    const value = collection.itemToValue(item)\n    return {\n      value,\n      isDisabled: Boolean(disabled || isDisabled),\n      isHighlighted: state.context.highlightedValue === value,\n      isSelected: state.context.value.includes(value),\n    }\n  }\n\n  return {\n    isFocused,\n    isOpen,\n    inputValue: state.context.inputValue,\n    isInputValueEmpty: state.context.isInputValueEmpty,\n    highlightedValue: state.context.highlightedValue,\n    highlightedItem: state.context.highlightedItem,\n    value: state.context.value,\n    valueAsString: state.context.valueAsString,\n    hasSelectedItems: state.context.hasSelectedItems,\n    selectedItems: state.context.selectedItems,\n    reposition(options = {}) {\n      send({ type: \"POSITIONING.SET\", options })\n    },\n    setCollection(collection) {\n      send({ type: \"COLLECTION.SET\", value: collection })\n    },\n    highlightValue(value) {\n      send({ type: \"HIGHLIGHTED_VALUE.SET\", value })\n    },\n    selectValue(value) {\n      send({ type: \"ITEM.SELECT\", value })\n    },\n    setValue(value) {\n      send({ type: \"VALUE.SET\", value })\n    },\n    setInputValue(value) {\n      send({ type: \"INPUT_VALUE.SET\", value })\n    },\n    clearValue(value) {\n      if (value != null) {\n        send({ type: \"ITEM.CLEAR\", value })\n      } else {\n        send(\"VALUE.CLEAR\")\n      }\n    },\n    focus() {\n      dom.getInputEl(state.context)?.focus()\n    },\n    open() {\n      send(\"OPEN\")\n    },\n    close() {\n      send(\"CLOSE\")\n    },\n\n    rootProps: normalize.element({\n      ...parts.root.attrs,\n      dir: state.context.dir,\n      id: dom.getRootId(state.context),\n      \"data-invalid\": dataAttr(isInvalid),\n      \"data-readonly\": dataAttr(isReadOnly),\n    }),\n\n    labelProps: normalize.label({\n      ...parts.label.attrs,\n      dir: state.context.dir,\n      htmlFor: dom.getInputId(state.context),\n      id: dom.getLabelId(state.context),\n      \"data-readonly\": dataAttr(isReadOnly),\n      \"data-disabled\": dataAttr(isDisabled),\n      \"data-invalid\": dataAttr(isInvalid),\n      \"data-focus\": dataAttr(isFocused),\n    }),\n\n    controlProps: normalize.element({\n      ...parts.control.attrs,\n      dir: state.context.dir,\n      id: dom.getControlId(state.context),\n      \"data-state\": isOpen ? \"open\" : \"closed\",\n      \"data-focus\": dataAttr(isFocused),\n      \"data-disabled\": dataAttr(isDisabled),\n      \"data-invalid\": dataAttr(isInvalid),\n    }),\n\n    positionerProps: normalize.element({\n      ...parts.positioner.attrs,\n      dir: state.context.dir,\n      id: dom.getPositionerId(state.context),\n      style: popperStyles.floating,\n    }),\n\n    inputProps: normalize.input({\n      ...parts.input.attrs,\n      dir: state.context.dir,\n      \"aria-invalid\": ariaAttr(isInvalid),\n      \"data-invalid\": dataAttr(isInvalid),\n      name: state.context.name,\n      form: state.context.form,\n      disabled: isDisabled,\n      autoFocus: state.context.autoFocus,\n      autoComplete: \"off\",\n      autoCorrect: \"off\",\n      autoCapitalize: \"none\",\n      spellCheck: \"false\",\n      readOnly: isReadOnly,\n      placeholder: state.context.placeholder,\n      id: dom.getInputId(state.context),\n      type: \"text\",\n      role: \"combobox\",\n      defaultValue: state.context.inputValue || state.context.valueAsString,\n      \"aria-autocomplete\": state.context.autoComplete ? \"both\" : \"list\",\n      \"aria-controls\": isOpen ? dom.getContentId(state.context) : undefined,\n      \"aria-expanded\": isOpen,\n      \"data-state\": isOpen ? \"open\" : \"closed\",\n      \"aria-activedescendant\": state.context.highlightedValue\n        ? dom.getItemId(state.context, state.context.highlightedValue)\n        : undefined,\n      onCompositionStart() {\n        send(\"INPUT.COMPOSITION_START\")\n      },\n      onCompositionEnd() {\n        raf(() => {\n          send(\"INPUT.COMPOSITION_END\")\n        })\n      },\n      onClick() {\n        if (!isInteractive) return\n        send(\"INPUT.CLICK\")\n      },\n      onFocus() {\n        if (isDisabled) return\n        send(\"INPUT.FOCUS\")\n      },\n      onBlur() {\n        if (isDisabled) return\n        send(\"INPUT.BLUR\")\n      },\n      onChange(event) {\n        send({ type: \"INPUT.CHANGE\", value: event.currentTarget.value })\n      },\n      onKeyDown(event) {\n        if (!isInteractive) return\n\n        const evt = getNativeEvent(event)\n        if (evt.ctrlKey || evt.shiftKey || evt.isComposing) return\n\n        const keymap: EventKeyMap = {\n          ArrowDown(event) {\n            send({ type: event.altKey ? \"INPUT.ARROW_DOWN+ALT\" : \"INPUT.ARROW_DOWN\" })\n            event.preventDefault()\n            event.stopPropagation()\n          },\n          ArrowUp() {\n            send(event.altKey ? \"INPUT.ARROW_UP+ALT\" : \"INPUT.ARROW_UP\")\n            event.preventDefault()\n            event.stopPropagation()\n          },\n          Home(event) {\n            const isModified = event.ctrlKey || event.metaKey || event.shiftKey\n            if (isModified) return\n            send(\"INPUT.HOME\")\n            if (isOpen) {\n              event.preventDefault()\n              event.stopPropagation()\n            }\n          },\n          End(event) {\n            const isModified = event.ctrlKey || event.metaKey || event.shiftKey\n            if (isModified) return\n            send(\"INPUT.END\")\n            if (isOpen) {\n              event.preventDefault()\n              event.stopPropagation()\n            }\n          },\n          Enter() {\n            if (state.context.composing) return\n            send(\"INPUT.ENTER\")\n            event.preventDefault()\n            event.stopPropagation()\n          },\n          Escape() {\n            send(\"INPUT.ESCAPE\")\n            event.preventDefault()\n            // don't stop propagation. this is handled by the dismissable layer\n          },\n        }\n\n        const key = getEventKey(event, state.context)\n        const exec = keymap[key]\n        exec?.(event)\n      },\n    }),\n\n    triggerProps: normalize.button({\n      ...parts.trigger.attrs,\n      dir: state.context.dir,\n      id: dom.getTriggerId(state.context),\n      \"aria-haspopup\": \"listbox\",\n      type: \"button\",\n      tabIndex: -1,\n      \"aria-label\": translations.triggerLabel,\n      \"aria-expanded\": isOpen,\n      \"data-state\": isOpen ? \"open\" : \"closed\",\n      \"aria-controls\": isOpen ? dom.getContentId(state.context) : undefined,\n      disabled: isDisabled,\n      \"data-readonly\": dataAttr(isReadOnly),\n      \"data-disabled\": dataAttr(isDisabled),\n      onPointerDown(event) {\n        const evt = getNativeEvent(event)\n        if (!isInteractive || !isLeftClick(evt) || evt.pointerType === \"touch\") return\n        send(\"TRIGGER.CLICK\")\n        event.preventDefault()\n      },\n      onPointerUp(event) {\n        if (event.pointerType !== \"touch\") return\n        send(\"TRIGGER.CLICK\")\n      },\n      style: { outline: 0 },\n    }),\n\n    contentProps: normalize.element({\n      ...parts.content.attrs,\n      dir: state.context.dir,\n      id: dom.getContentId(state.context),\n      role: \"listbox\",\n      tabIndex: -1,\n      hidden: !isOpen,\n      \"data-state\": isOpen ? \"open\" : \"closed\",\n      \"aria-labelledby\": dom.getLabelId(state.context),\n      \"aria-multiselectable\": state.context.multiple ? true : undefined,\n      onPointerDown(event) {\n        // prevent options or elements within listbox from taking focus\n        event.preventDefault()\n      },\n    }),\n\n    clearTriggerProps: normalize.button({\n      ...parts.clearTrigger.attrs,\n      dir: state.context.dir,\n      id: dom.getClearTriggerId(state.context),\n      type: \"button\",\n      tabIndex: -1,\n      disabled: isDisabled,\n      \"aria-label\": translations.clearTriggerLabel,\n      hidden: state.context.isInputValueEmpty,\n      onPointerDown(event) {\n        const evt = getNativeEvent(event)\n        if (!isInteractive || !isLeftClick(evt)) return\n        send({ type: \"VALUE.CLEAR\", src: \"clear-trigger\" })\n        event.preventDefault()\n      },\n    }),\n\n    getItemState,\n\n    getItemProps(props) {\n      const itemState = getItemState(props)\n      const value = itemState.value\n\n      return normalize.element({\n        ...parts.item.attrs,\n        dir: state.context.dir,\n        id: dom.getItemId(state.context, value),\n        role: \"option\",\n        tabIndex: -1,\n        \"data-highlighted\": dataAttr(itemState.isHighlighted),\n        \"data-state\": itemState.isSelected ? \"checked\" : \"unchecked\",\n        \"aria-selected\": itemState.isHighlighted,\n        \"aria-disabled\": itemState.isDisabled,\n        \"data-disabled\": dataAttr(itemState.isDisabled),\n        \"data-value\": itemState.value,\n        onPointerMove() {\n          if (itemState.isDisabled) return\n          send({ type: \"ITEM.POINTER_OVER\", value })\n        },\n        onPointerLeave() {\n          if (itemState.isDisabled) return\n          send({ type: \"ITEM.POINTER_LEAVE\", value })\n        },\n        onPointerUp(event) {\n          if (itemState.isDisabled || isContextMenuEvent(event)) return\n          send({ type: \"ITEM.CLICK\", src: \"pointerup\", value })\n        },\n      })\n    },\n\n    getItemTextProps(props) {\n      const itemState = getItemState(props)\n      return normalize.element({\n        ...parts.itemText.attrs,\n        dir: state.context.dir,\n        \"data-disabled\": dataAttr(itemState.isDisabled),\n        \"data-highlighted\": dataAttr(itemState.isHighlighted),\n      })\n    },\n    getItemIndicatorProps(props) {\n      const itemState = getItemState(props)\n      return normalize.element({\n        \"aria-hidden\": true,\n        ...parts.itemIndicator.attrs,\n        dir: state.context.dir,\n        \"data-state\": itemState.isSelected ? \"checked\" : \"unchecked\",\n        hidden: !itemState.isSelected,\n      })\n    },\n\n    getItemGroupProps(props) {\n      const { id } = props\n      return normalize.element({\n        ...parts.itemGroup.attrs,\n        dir: state.context.dir,\n        id: dom.getItemGroupId(state.context, id),\n        \"aria-labelledby\": dom.getItemGroupLabelId(state.context, id),\n      })\n    },\n\n    getItemGroupLabelProps(props) {\n      const { htmlFor } = props\n      return normalize.element({\n        ...parts.itemGroupLabel.attrs,\n        dir: state.context.dir,\n        id: dom.getItemGroupLabelId(state.context, htmlFor),\n        role: \"group\",\n      })\n    },\n  }\n}\n","import { createScope } from \"@zag-js/dom-query\"\nimport type { MachineContext as Ctx } from \"./combobox.types\"\n\nexport const dom = createScope({\n  getRootId: (ctx: Ctx) => ctx.ids?.root ?? `combobox:${ctx.id}`,\n  getLabelId: (ctx: Ctx) => ctx.ids?.label ?? `combobox:${ctx.id}:label`,\n  getControlId: (ctx: Ctx) => ctx.ids?.control ?? `combobox:${ctx.id}:control`,\n  getInputId: (ctx: Ctx) => ctx.ids?.input ?? `combobox:${ctx.id}:input`,\n  getContentId: (ctx: Ctx) => ctx.ids?.content ?? `combobox:${ctx.id}:content`,\n  getPositionerId: (ctx: Ctx) => ctx.ids?.positioner ?? `combobox:${ctx.id}:popper`,\n  getTriggerId: (ctx: Ctx) => ctx.ids?.trigger ?? `combobox:${ctx.id}:toggle-btn`,\n  getClearTriggerId: (ctx: Ctx) => ctx.ids?.clearTrigger ?? `combobox:${ctx.id}:clear-btn`,\n  getItemGroupId: (ctx: Ctx, id: string | number) => ctx.ids?.itemGroup?.(id) ?? `combobox:${ctx.id}:optgroup:${id}`,\n  getItemGroupLabelId: (ctx: Ctx, id: string | number) =>\n    ctx.ids?.itemGroupLabel?.(id) ?? `combobox:${ctx.id}:optgroup-label:${id}`,\n  getItemId: (ctx: Ctx, id: string) => `combobox:${ctx.id}:option:${id}`,\n\n  getContentEl: (ctx: Ctx) => dom.getById(ctx, dom.getContentId(ctx)),\n  getInputEl: (ctx: Ctx) => dom.getById<HTMLInputElement>(ctx, dom.getInputId(ctx)),\n  getPositionerEl: (ctx: Ctx) => dom.getById(ctx, dom.getPositionerId(ctx)),\n  getControlEl: (ctx: Ctx) => dom.getById(ctx, dom.getControlId(ctx)),\n  getTriggerEl: (ctx: Ctx) => dom.getById(ctx, dom.getTriggerId(ctx)),\n  getClearTriggerEl: (ctx: Ctx) => dom.getById(ctx, dom.getClearTriggerId(ctx)),\n\n  isInputFocused: (ctx: Ctx) => dom.getDoc(ctx).activeElement === dom.getInputEl(ctx),\n  getHighlightedItemEl: (ctx: Ctx) => {\n    const value = ctx.highlightedValue\n    if (value == null) return\n    return dom.getContentEl(ctx)?.querySelector<HTMLElement>(`[role=option][data-value=\"${CSS.escape(value)}\"`)\n  },\n})\n","import { ariaHidden } from \"@zag-js/aria-hidden\"\nimport { createMachine, guards } from \"@zag-js/core\"\nimport { trackDismissableElement } from \"@zag-js/dismissable\"\nimport { raf } from \"@zag-js/dom-query\"\nimport { observeAttributes, observeChildren } from \"@zag-js/mutation-observer\"\nimport { getPlacement } from \"@zag-js/popper\"\nimport { addOrRemove, compact, isEqual, match } from \"@zag-js/utils\"\nimport { collection } from \"./combobox.collection\"\nimport { dom } from \"./combobox.dom\"\nimport type { CollectionItem, MachineContext, MachineState, UserDefinedContext } from \"./combobox.types\"\n\nconst { and, not } = guards\n\nconst KEYDOWN_EVENT_REGEX = /(ARROW_UP|ARROW_DOWN|HOME|END|ENTER|ESCAPE)/\n\nexport function machine<T extends CollectionItem>(userContext: UserDefinedContext<T>) {\n  const ctx = compact(userContext)\n  return createMachine<MachineContext, MachineState>(\n    {\n      id: \"combobox\",\n      initial: ctx.autoFocus ? \"focused\" : \"idle\",\n      context: {\n        loop: true,\n        openOnClick: false,\n        composing: false,\n        value: [],\n        highlightedValue: null,\n        inputValue: \"\",\n        selectOnBlur: true,\n        allowCustomValue: false,\n        closeOnSelect: true,\n        inputBehavior: \"none\",\n        selectionBehavior: \"replace\",\n        ...ctx,\n        collection: ctx.collection ?? collection.empty(),\n        positioning: {\n          placement: \"bottom\",\n          flip: false,\n          sameWidth: true,\n          ...ctx.positioning,\n        },\n        translations: {\n          triggerLabel: \"Toggle suggestions\",\n          clearTriggerLabel: \"Clear value\",\n          ...ctx.translations,\n        },\n      },\n\n      computed: {\n        isInputValueEmpty: (ctx) => ctx.inputValue.length === 0,\n        isInteractive: (ctx) => !(ctx.readOnly || ctx.disabled),\n        autoComplete: (ctx) => ctx.inputBehavior === \"autocomplete\",\n        autoHighlight: (ctx) => ctx.inputBehavior === \"autohighlight\",\n        selectedItems: (ctx) => ctx.collection.items(ctx.value),\n        highlightedItem: (ctx) => ctx.collection.item(ctx.highlightedValue),\n        valueAsString: (ctx) => ctx.collection.itemsToString(ctx.selectedItems),\n        hasSelectedItems: (ctx) => ctx.value.length > 0,\n      },\n\n      watch: {\n        inputValue: [\"syncInputValue\"],\n        highlightedValue: [\"autofillInputValue\"],\n      },\n\n      on: {\n        \"HIGHLIGHTED_VALUE.SET\": {\n          actions: [\"setHighlightedItem\"],\n        },\n        \"ITEM.SELECT\": {\n          actions: [\"selectItem\"],\n        },\n        \"ITEM.CLEAR\": {\n          actions: [\"clearItem\"],\n        },\n        \"VALUE.SET\": {\n          actions: [\"setSelectedItems\"],\n        },\n        \"INPUT_VALUE.SET\": {\n          actions: \"setInputValue\",\n        },\n        \"VALUE.CLEAR\": {\n          target: \"focused\",\n          actions: [\"clearInputValue\", \"clearSelectedItems\"],\n        },\n        \"INPUT.COMPOSITION_START\": {\n          actions: [\"setIsComposing\"],\n        },\n        \"INPUT.COMPOSITION_END\": {\n          actions: [\"clearIsComposing\"],\n        },\n        \"COLLECTION.SET\": {\n          actions: [\"setCollection\"],\n        },\n        \"POSITIONING.SET\": {\n          actions: [\"reposition\"],\n        },\n      },\n\n      states: {\n        idle: {\n          tags: [\"idle\", \"closed\"],\n          entry: [\"scrollContentToTop\", \"clearHighlightedItem\"],\n          on: {\n            \"TRIGGER.CLICK\": {\n              target: \"interacting\",\n              actions: [\"focusInput\", \"highlightFirstSelectedItem\", \"invokeOnOpen\"],\n            },\n            \"INPUT.CLICK\": {\n              guard: \"openOnClick\",\n              target: \"interacting\",\n              actions: [\"highlightFirstSelectedItem\", \"invokeOnOpen\"],\n            },\n            \"INPUT.FOCUS\": {\n              target: \"focused\",\n            },\n            OPEN: {\n              target: \"interacting\",\n              actions: [\"invokeOnOpen\"],\n            },\n          },\n        },\n\n        focused: {\n          tags: [\"focused\", \"closed\"],\n          entry: [\"focusInput\", \"scrollContentToTop\", \"clearHighlightedItem\"],\n          on: {\n            \"INPUT.CHANGE\": {\n              target: \"suggesting\",\n              actions: \"setInputValue\",\n            },\n            \"LAYER.INTERACT_OUTSIDE\": {\n              target: \"idle\",\n            },\n            \"INPUT.ESCAPE\": {\n              guard: and(\"isCustomValue\", not(\"allowCustomValue\")),\n              actions: \"revertInputValue\",\n            },\n            \"INPUT.BLUR\": {\n              target: \"idle\",\n            },\n            \"INPUT.CLICK\": {\n              guard: \"openOnClick\",\n              target: \"interacting\",\n              actions: [\"highlightFirstSelectedItem\", \"invokeOnOpen\"],\n            },\n            \"TRIGGER.CLICK\": {\n              target: \"interacting\",\n              actions: [\"focusInput\", \"highlightFirstSelectedItem\", \"invokeOnOpen\"],\n            },\n            \"INPUT.ARROW_DOWN\": [\n              {\n                guard: \"autoComplete\",\n                target: \"interacting\",\n                actions: [\"invokeOnOpen\"],\n              },\n              {\n                guard: \"hasSelectedItems\",\n                target: \"interacting\",\n                actions: [\"highlightFirstSelectedItem\", \"invokeOnOpen\"],\n              },\n              {\n                target: \"interacting\",\n                actions: [\"highlightFirstItem\", \"invokeOnOpen\"],\n              },\n            ],\n            \"INPUT.ARROW_DOWN+ALT\": {\n              target: \"interacting\",\n              actions: \"invokeOnOpen\",\n            },\n            \"INPUT.ARROW_UP\": [\n              {\n                guard: \"autoComplete\",\n                target: \"interacting\",\n                actions: \"invokeOnOpen\",\n              },\n              {\n                guard: \"hasSelectedItems\",\n                target: \"interacting\",\n                actions: [\"highlightFirstSelectedItem\", \"invokeOnOpen\"],\n              },\n              {\n                target: \"interacting\",\n                actions: [\"highlightLastItem\", \"invokeOnOpen\"],\n              },\n            ],\n            OPEN: {\n              target: \"interacting\",\n              actions: [\"invokeOnOpen\"],\n            },\n          },\n        },\n\n        interacting: {\n          tags: [\"open\", \"focused\"],\n          activities: [\"scrollIntoView\", \"trackDismissableLayer\", \"computePlacement\", \"hideOtherElements\"],\n          on: {\n            \"INPUT.HOME\": {\n              actions: [\"highlightFirstItem\"],\n            },\n            \"INPUT.END\": {\n              actions: [\"highlightLastItem\"],\n            },\n            \"INPUT.ARROW_DOWN\": [\n              {\n                guard: and(\"autoComplete\", \"isLastItemHighlighted\"),\n                actions: [\"clearHighlightedItem\", \"scrollContentToTop\"],\n              },\n              {\n                actions: [\"highlightNextItem\"],\n              },\n            ],\n            \"INPUT.ARROW_UP\": [\n              {\n                guard: and(\"autoComplete\", \"isFirstItemHighlighted\"),\n                actions: \"clearHighlightedItem\",\n              },\n              {\n                actions: \"highlightPrevItem\",\n              },\n            ],\n            \"INPUT.ARROW_UP+ALT\": {\n              target: \"focused\",\n            },\n            \"INPUT.ENTER\": [\n              {\n                guard: not(\"closeOnSelect\"),\n                actions: [\"selectHighlightedItem\"],\n              },\n              {\n                target: \"focused\",\n                actions: [\"selectHighlightedItem\", \"invokeOnClose\"],\n              },\n            ],\n            \"INPUT.CHANGE\": [\n              {\n                guard: \"autoComplete\",\n                target: \"suggesting\",\n                actions: [\"setInputValue\"],\n              },\n              {\n                target: \"suggesting\",\n                actions: [\"clearHighlightedItem\", \"setInputValue\"],\n              },\n            ],\n            \"ITEM.POINTER_OVER\": {\n              actions: [\"setHighlightedItem\"],\n            },\n            \"ITEM.POINTER_LEAVE\": {\n              actions: [\"clearHighlightedItem\"],\n            },\n            \"ITEM.CLICK\": [\n              {\n                guard: not(\"closeOnSelect\"),\n                actions: [\"selectItem\"],\n              },\n              {\n                target: \"focused\",\n                actions: [\"selectItem\", \"invokeOnClose\"],\n              },\n            ],\n            \"LAYER.ESCAPE\": [\n              {\n                guard: \"autoComplete\",\n                target: \"focused\",\n                actions: [\"syncInputValue\", \"invokeOnClose\"],\n              },\n              {\n                target: \"focused\",\n                actions: [\"invokeOnClose\"],\n              },\n            ],\n            \"TRIGGER.CLICK\": {\n              target: \"focused\",\n              actions: \"invokeOnClose\",\n            },\n            \"LAYER.INTERACT_OUTSIDE\": [\n              {\n                guard: and(\"selectOnBlur\", \"hasHighlightedItem\"),\n                target: \"idle\",\n                actions: [\"selectHighlightedItem\", \"invokeOnClose\"],\n              },\n              {\n                guard: and(\"isCustomValue\", not(\"allowCustomValue\")),\n                target: \"idle\",\n                actions: [\"revertInputValue\", \"invokeOnClose\"],\n              },\n              {\n                target: \"idle\",\n                actions: \"invokeOnClose\",\n              },\n            ],\n            CLOSE: {\n              target: \"focused\",\n              actions: \"invokeOnClose\",\n            },\n          },\n        },\n\n        suggesting: {\n          tags: [\"open\", \"focused\"],\n          activities: [\n            \"trackDismissableLayer\",\n            \"scrollIntoView\",\n            \"computePlacement\",\n            \"trackChildNodes\",\n            \"hideOtherElements\",\n          ],\n          entry: [\"focusInput\", \"invokeOnOpen\"],\n          on: {\n            CHILDREN_CHANGE: {\n              guard: not(\"isHighlightedItemVisible\"),\n              actions: [\"highlightFirstItem\"],\n            },\n            \"INPUT.ARROW_DOWN\": {\n              target: \"interacting\",\n              actions: \"highlightNextItem\",\n            },\n            \"INPUT.ARROW_UP\": {\n              target: \"interacting\",\n              actions: \"highlightPrevItem\",\n            },\n            \"INPUT.ARROW_UP+ALT\": {\n              target: \"focused\",\n            },\n            \"INPUT.HOME\": {\n              target: \"interacting\",\n              actions: [\"highlightFirstItem\"],\n            },\n            \"INPUT.END\": {\n              target: \"interacting\",\n              actions: [\"highlightLastItem\"],\n            },\n            \"INPUT.ENTER\": [\n              {\n                guard: not(\"closeOnSelect\"),\n                actions: [\"selectHighlightedItem\"],\n              },\n              {\n                target: \"focused\",\n                actions: [\"selectHighlightedItem\", \"invokeOnClose\"],\n              },\n            ],\n            \"INPUT.CHANGE\": [\n              {\n                guard: \"autoHighlight\",\n                actions: [\"setInputValue\", \"highlightFirstItem\"],\n              },\n              {\n                actions: [\"clearHighlightedItem\", \"setInputValue\"],\n              },\n            ],\n            \"LAYER.ESCAPE\": {\n              target: \"focused\",\n              actions: \"invokeOnClose\",\n            },\n            \"ITEM.POINTER_OVER\": {\n              target: \"interacting\",\n              actions: \"setHighlightedItem\",\n            },\n            \"ITEM.POINTER_LEAVE\": {\n              actions: \"clearHighlightedItem\",\n            },\n            \"LAYER.INTERACT_OUTSIDE\": [\n              {\n                guard: and(\"isCustomValue\", not(\"allowCustomValue\")),\n                target: \"idle\",\n                actions: [\"revertInputValue\", \"invokeOnClose\"],\n              },\n              {\n                target: \"idle\",\n                actions: \"invokeOnClose\",\n              },\n            ],\n            \"TRIGGER.CLICK\": {\n              target: \"focused\",\n              actions: \"invokeOnClose\",\n            },\n            \"ITEM.CLICK\": [\n              {\n                guard: not(\"closeOnSelect\"),\n                actions: [\"selectItem\"],\n              },\n              {\n                target: \"focused\",\n                actions: [\"selectItem\", \"invokeOnClose\"],\n              },\n            ],\n            CLOSE: {\n              target: \"focused\",\n              actions: \"invokeOnClose\",\n            },\n          },\n        },\n      },\n    },\n\n    {\n      guards: {\n        openOnClick: (ctx) => !!ctx.openOnClick,\n        isInputValueEmpty: (ctx) => ctx.isInputValueEmpty,\n        autoComplete: (ctx) => ctx.autoComplete && !ctx.multiple,\n        autoHighlight: (ctx) => ctx.autoHighlight,\n        isFirstItemHighlighted: (ctx) => ctx.collection.first() === ctx.highlightedValue,\n        isLastItemHighlighted: (ctx) => ctx.collection.last() === ctx.highlightedValue,\n        isCustomValue: (ctx) => ctx.inputValue !== ctx.valueAsString,\n        allowCustomValue: (ctx) => !!ctx.allowCustomValue,\n        hasHighlightedItem: (ctx) => ctx.highlightedValue != null,\n        hasSelectedItems: (ctx) => ctx.hasSelectedItems,\n        selectOnBlur: (ctx) => !!ctx.selectOnBlur,\n        closeOnSelect: (ctx) => (ctx.multiple ? false : !!ctx.closeOnSelect),\n        isHighlightedItemVisible: (ctx) => ctx.collection.has(ctx.highlightedValue),\n      },\n\n      activities: {\n        trackDismissableLayer(ctx, _evt, { send }) {\n          const contentEl = () => dom.getContentEl(ctx)\n          return trackDismissableElement(contentEl, {\n            defer: true,\n            exclude: () => [\n              dom.getInputEl(ctx),\n              dom.getContentEl(ctx),\n              dom.getTriggerEl(ctx),\n              dom.getClearTriggerEl(ctx),\n            ],\n            onFocusOutside: ctx.onFocusOutside,\n            onPointerDownOutside: ctx.onPointerDownOutside,\n            onInteractOutside: ctx.onInteractOutside,\n            onEscapeKeyDown(event) {\n              event.preventDefault()\n              send(\"LAYER.ESCAPE\")\n            },\n            onDismiss() {\n              send({ type: \"LAYER.INTERACT_OUTSIDE\" })\n            },\n          })\n        },\n        hideOtherElements(ctx) {\n          return ariaHidden([dom.getInputEl(ctx), dom.getContentEl(ctx), dom.getTriggerEl(ctx)])\n        },\n        computePlacement(ctx) {\n          const controlEl = () => dom.getControlEl(ctx)\n          const positionerEl = () => dom.getPositionerEl(ctx)\n          ctx.currentPlacement = ctx.positioning.placement\n          return getPlacement(controlEl, positionerEl, {\n            ...ctx.positioning,\n            defer: true,\n            onComplete(data) {\n              ctx.currentPlacement = data.placement\n            },\n            onCleanup() {\n              ctx.currentPlacement = undefined\n            },\n          })\n        },\n        // in event the options are fetched (async), we still want to auto-highlight the first option\n        trackChildNodes(ctx, _evt, { send }) {\n          if (!ctx.autoHighlight) return\n          const exec = () => send(\"CHILDREN_CHANGE\")\n          exec()\n          return observeChildren(dom.getContentEl(ctx), exec)\n        },\n        scrollIntoView(ctx, _evt, { getState }) {\n          const inputEl = dom.getInputEl(ctx)\n\n          const exec = () => {\n            const state = getState()\n\n            const isPointer = state.event.type.startsWith(\"ITEM.POINTER\")\n            if (isPointer || !ctx.highlightedValue) return\n\n            const optionEl = dom.getHighlightedItemEl(ctx)\n            optionEl?.scrollIntoView({ block: \"nearest\" })\n          }\n\n          raf(() => exec())\n          return observeAttributes(inputEl, [\"aria-activedescendant\"], exec)\n        },\n      },\n\n      actions: {\n        reposition(ctx, evt) {\n          const controlEl = () => dom.getControlEl(ctx)\n          const positionerEl = () => dom.getPositionerEl(ctx)\n          getPlacement(controlEl, positionerEl, {\n            ...ctx.positioning,\n            ...evt.options,\n            defer: true,\n            listeners: false,\n            onComplete(data) {\n              ctx.currentPlacement = data.placement\n            },\n          })\n        },\n        setIsComposing(ctx) {\n          ctx.composing = true\n        },\n        clearIsComposing(ctx) {\n          ctx.composing = false\n        },\n        setHighlightedItem(ctx, evt) {\n          set.highlightedItem(ctx, evt.value)\n        },\n        clearHighlightedItem(ctx) {\n          set.highlightedItem(ctx, null, true)\n        },\n        selectHighlightedItem(ctx) {\n          set.selectedItem(ctx, ctx.highlightedValue)\n        },\n        selectItem(ctx, evt) {\n          set.selectedItem(ctx, evt.value)\n        },\n        clearItem(ctx, evt) {\n          const value = ctx.value.filter((v) => v !== evt.value)\n          set.selectedItems(ctx, value)\n        },\n        focusInput(ctx) {\n          if (dom.isInputFocused(ctx)) return\n          dom.getInputEl(ctx)?.focus({ preventScroll: true })\n        },\n        syncInputValue(ctx, evt) {\n          const isTyping = !KEYDOWN_EVENT_REGEX.test(evt.type)\n          const inputEl = dom.getInputEl(ctx)\n\n          if (!inputEl) return\n          inputEl.value = ctx.inputValue\n\n          raf(() => {\n            if (isTyping) return\n\n            const { selectionStart, selectionEnd } = inputEl\n\n            if (Math.abs((selectionEnd ?? 0) - (selectionStart ?? 0)) !== 0) return\n            if (selectionStart !== 0) return\n\n            inputEl.setSelectionRange(inputEl.value.length, inputEl.value.length)\n          })\n        },\n        setInputValue(ctx, evt) {\n          set.inputValue(ctx, evt.value)\n        },\n        clearInputValue(ctx) {\n          set.inputValue(ctx, \"\")\n        },\n        revertInputValue(ctx) {\n          set.inputValue(ctx, ctx.hasSelectedItems ? ctx.valueAsString : \"\")\n        },\n        setSelectedItems(ctx, evt) {\n          set.selectedItems(ctx, evt.value)\n        },\n        clearSelectedItems(ctx) {\n          set.selectedItems(ctx, [])\n        },\n        scrollContentToTop(ctx) {\n          const contentEl = dom.getContentEl(ctx)\n          if (!contentEl) return\n          contentEl.scrollTop = 0\n        },\n        invokeOnOpen(ctx) {\n          ctx.onOpenChange?.({ open: true })\n        },\n        invokeOnClose(ctx) {\n          ctx.onOpenChange?.({ open: false })\n        },\n        highlightFirstItem(ctx) {\n          const value = ctx.collection.first()\n          set.highlightedItem(ctx, value)\n        },\n        highlightLastItem(ctx) {\n          const value = ctx.collection.last()\n          set.highlightedItem(ctx, value)\n        },\n        highlightNextItem(ctx) {\n          const value = ctx.collection.next(ctx.highlightedValue) ?? (ctx.loop ? ctx.collection.first() : null)\n          set.highlightedItem(ctx, value)\n        },\n        highlightPrevItem(ctx) {\n          const value = ctx.collection.prev(ctx.highlightedValue) ?? (ctx.loop ? ctx.collection.last() : null)\n          set.highlightedItem(ctx, value)\n        },\n        highlightFirstSelectedItem(ctx) {\n          const [value] = ctx.collection.sort(ctx.value)\n          set.highlightedItem(ctx, value)\n        },\n        autofillInputValue(ctx, evt) {\n          const inputEl = dom.getInputEl(ctx)\n          if (!ctx.autoComplete || !inputEl || !KEYDOWN_EVENT_REGEX.test(evt.type)) return\n          const valueText = ctx.collection.valueToString(ctx.highlightedValue)\n          raf(() => {\n            inputEl.value = valueText || ctx.inputValue\n          })\n        },\n        setCollection(ctx, evt) {\n          ctx.collection = evt.value\n        },\n      },\n    },\n  )\n}\n\nconst invoke = {\n  selectionChange: (ctx: MachineContext) => {\n    ctx.onValueChange?.({\n      value: Array.from(ctx.value),\n      items: ctx.selectedItems,\n    })\n\n    // side effect: sync inputValue\n    ctx.inputValue = match(ctx.selectionBehavior, {\n      replace: ctx.valueAsString,\n      clear: \"\",\n      preserve: ctx.inputValue,\n    })\n  },\n  highlightChange: (ctx: MachineContext) => {\n    ctx.onHighlightChange?.({\n      highlightedValue: ctx.highlightedValue,\n      highligtedItem: ctx.highlightedItem,\n    })\n  },\n  inputChange: (ctx: MachineContext) => {\n    ctx.onInputValueChange?.({ value: ctx.inputValue })\n  },\n}\n\nconst set = {\n  selectedItem: (ctx: MachineContext, value: string | null | undefined, force = false) => {\n    if (isEqual(ctx.value, value)) return\n\n    if (value == null && !force) return\n\n    if (value == null && force) {\n      ctx.value = []\n      invoke.selectionChange(ctx)\n      return\n    }\n\n    ctx.value = ctx.multiple ? addOrRemove(ctx.value, value!) : [value!]\n    invoke.selectionChange(ctx)\n  },\n  selectedItems: (ctx: MachineContext, value: string[]) => {\n    if (isEqual(ctx.value, value)) return\n    ctx.value = value\n    invoke.selectionChange(ctx)\n  },\n  highlightedItem: (ctx: MachineContext, value: string | null | undefined, force = false) => {\n    if (isEqual(ctx.highlightedValue, value)) return\n    if (!value && !force) return\n    ctx.highlightedValue = value || null\n    invoke.highlightChange(ctx)\n  },\n  inputValue: (ctx: MachineContext, value: string) => {\n    if (isEqual(ctx.inputValue, value)) return\n    ctx.inputValue = value\n    invoke.inputChange(ctx)\n  },\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACAA,qBAA8B;AAEvB,IAAM,cAAU,8BAAc,UAAU,EAAE;AAAA,EAC/C;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF;AACO,IAAM,QAAQ,QAAQ,MAAM;;;ACjBnC,wBAAwE;AACxE,kBAAoB;AAEb,IAAM,aAAa,CAA2B,YAAiD;AACpG,aAAO,iBAAI,IAAI,6BAAW,OAAO,CAAC;AACpC;AAEA,WAAW,QAAQ,MAAkC;AACnD,aAAO,iBAAI,IAAI,6BAA2B,EAAE,OAAO,CAAC,EAAE,CAAC,CAAC;AAC1D;;;ACTA,uBAA+F;AAC/F,IAAAA,oBAAwC;AACxC,oBAAmC;;;ACFnC,uBAA4B;AAGrB,IAAM,UAAM,8BAAY;AAAA,EAC7B,WAAW,CAAC,QAAa,IAAI,KAAK,QAAQ,YAAY,IAAI,EAAE;AAAA,EAC5D,YAAY,CAAC,QAAa,IAAI,KAAK,SAAS,YAAY,IAAI,EAAE;AAAA,EAC9D,cAAc,CAAC,QAAa,IAAI,KAAK,WAAW,YAAY,IAAI,EAAE;AAAA,EAClE,YAAY,CAAC,QAAa,IAAI,KAAK,SAAS,YAAY,IAAI,EAAE;AAAA,EAC9D,cAAc,CAAC,QAAa,IAAI,KAAK,WAAW,YAAY,IAAI,EAAE;AAAA,EAClE,iBAAiB,CAAC,QAAa,IAAI,KAAK,cAAc,YAAY,IAAI,EAAE;AAAA,EACxE,cAAc,CAAC,QAAa,IAAI,KAAK,WAAW,YAAY,IAAI,EAAE;AAAA,EAClE,mBAAmB,CAAC,QAAa,IAAI,KAAK,gBAAgB,YAAY,IAAI,EAAE;AAAA,EAC5E,gBAAgB,CAAC,KAAU,OAAwB,IAAI,KAAK,YAAY,EAAE,KAAK,YAAY,IAAI,EAAE,aAAa,EAAE;AAAA,EAChH,qBAAqB,CAAC,KAAU,OAC9B,IAAI,KAAK,iBAAiB,EAAE,KAAK,YAAY,IAAI,EAAE,mBAAmB,EAAE;AAAA,EAC1E,WAAW,CAAC,KAAU,OAAe,YAAY,IAAI,EAAE,WAAW,EAAE;AAAA,EAEpE,cAAc,CAAC,QAAa,IAAI,QAAQ,KAAK,IAAI,aAAa,GAAG,CAAC;AAAA,EAClE,YAAY,CAAC,QAAa,IAAI,QAA0B,KAAK,IAAI,WAAW,GAAG,CAAC;AAAA,EAChF,iBAAiB,CAAC,QAAa,IAAI,QAAQ,KAAK,IAAI,gBAAgB,GAAG,CAAC;AAAA,EACxE,cAAc,CAAC,QAAa,IAAI,QAAQ,KAAK,IAAI,aAAa,GAAG,CAAC;AAAA,EAClE,cAAc,CAAC,QAAa,IAAI,QAAQ,KAAK,IAAI,aAAa,GAAG,CAAC;AAAA,EAClE,mBAAmB,CAAC,QAAa,IAAI,QAAQ,KAAK,IAAI,kBAAkB,GAAG,CAAC;AAAA,EAE5E,gBAAgB,CAAC,QAAa,IAAI,OAAO,GAAG,EAAE,kBAAkB,IAAI,WAAW,GAAG;AAAA,EAClF,sBAAsB,CAAC,QAAa;AAClC,UAAM,QAAQ,IAAI;AAClB,QAAI,SAAS;AAAM;AACnB,WAAO,IAAI,aAAa,GAAG,GAAG,cAA2B,6BAA6B,IAAI,OAAO,KAAK,CAAC,GAAG;AAAA,EAC5G;AACF,CAAC;;;ADtBM,SAAS,QACd,OACA,MACA,WACkB;AAClB,QAAM,eAAe,MAAM,QAAQ;AACnC,QAAMC,cAAa,MAAM,QAAQ;AAEjC,QAAM,aAAa,MAAM,QAAQ;AACjC,QAAM,gBAAgB,MAAM,QAAQ;AACpC,QAAM,YAAY,MAAM,QAAQ;AAChC,QAAM,aAAa,MAAM,QAAQ;AAEjC,QAAM,SAAS,MAAM,OAAO,MAAM;AAClC,QAAM,YAAY,MAAM,OAAO,SAAS;AAExC,QAAM,mBAAe,kCAAmB;AAAA,IACtC,GAAG,MAAM,QAAQ;AAAA,IACjB,WAAW,MAAM,QAAQ;AAAA,EAC3B,CAAC;AAED,WAAS,aAAa,OAAkB;AACtC,UAAM,EAAE,KAAK,IAAI;AACjB,UAAM,WAAWA,YAAW,eAAe,IAAI;AAC/C,UAAM,QAAQA,YAAW,YAAY,IAAI;AACzC,WAAO;AAAA,MACL;AAAA,MACA,YAAY,QAAQ,YAAY,UAAU;AAAA,MAC1C,eAAe,MAAM,QAAQ,qBAAqB;AAAA,MAClD,YAAY,MAAM,QAAQ,MAAM,SAAS,KAAK;AAAA,IAChD;AAAA,EACF;AAEA,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA,YAAY,MAAM,QAAQ;AAAA,IAC1B,mBAAmB,MAAM,QAAQ;AAAA,IACjC,kBAAkB,MAAM,QAAQ;AAAA,IAChC,iBAAiB,MAAM,QAAQ;AAAA,IAC/B,OAAO,MAAM,QAAQ;AAAA,IACrB,eAAe,MAAM,QAAQ;AAAA,IAC7B,kBAAkB,MAAM,QAAQ;AAAA,IAChC,eAAe,MAAM,QAAQ;AAAA,IAC7B,WAAW,UAAU,CAAC,GAAG;AACvB,WAAK,EAAE,MAAM,mBAAmB,QAAQ,CAAC;AAAA,IAC3C;AAAA,IACA,cAAcA,aAAY;AACxB,WAAK,EAAE,MAAM,kBAAkB,OAAOA,YAAW,CAAC;AAAA,IACpD;AAAA,IACA,eAAe,OAAO;AACpB,WAAK,EAAE,MAAM,yBAAyB,MAAM,CAAC;AAAA,IAC/C;AAAA,IACA,YAAY,OAAO;AACjB,WAAK,EAAE,MAAM,eAAe,MAAM,CAAC;AAAA,IACrC;AAAA,IACA,SAAS,OAAO;AACd,WAAK,EAAE,MAAM,aAAa,MAAM,CAAC;AAAA,IACnC;AAAA,IACA,cAAc,OAAO;AACnB,WAAK,EAAE,MAAM,mBAAmB,MAAM,CAAC;AAAA,IACzC;AAAA,IACA,WAAW,OAAO;AAChB,UAAI,SAAS,MAAM;AACjB,aAAK,EAAE,MAAM,cAAc,MAAM,CAAC;AAAA,MACpC,OAAO;AACL,aAAK,aAAa;AAAA,MACpB;AAAA,IACF;AAAA,IACA,QAAQ;AACN,UAAI,WAAW,MAAM,OAAO,GAAG,MAAM;AAAA,IACvC;AAAA,IACA,OAAO;AACL,WAAK,MAAM;AAAA,IACb;AAAA,IACA,QAAQ;AACN,WAAK,OAAO;AAAA,IACd;AAAA,IAEA,WAAW,UAAU,QAAQ;AAAA,MAC3B,GAAG,MAAM,KAAK;AAAA,MACd,KAAK,MAAM,QAAQ;AAAA,MACnB,IAAI,IAAI,UAAU,MAAM,OAAO;AAAA,MAC/B,oBAAgB,4BAAS,SAAS;AAAA,MAClC,qBAAiB,4BAAS,UAAU;AAAA,IACtC,CAAC;AAAA,IAED,YAAY,UAAU,MAAM;AAAA,MAC1B,GAAG,MAAM,MAAM;AAAA,MACf,KAAK,MAAM,QAAQ;AAAA,MACnB,SAAS,IAAI,WAAW,MAAM,OAAO;AAAA,MACrC,IAAI,IAAI,WAAW,MAAM,OAAO;AAAA,MAChC,qBAAiB,4BAAS,UAAU;AAAA,MACpC,qBAAiB,4BAAS,UAAU;AAAA,MACpC,oBAAgB,4BAAS,SAAS;AAAA,MAClC,kBAAc,4BAAS,SAAS;AAAA,IAClC,CAAC;AAAA,IAED,cAAc,UAAU,QAAQ;AAAA,MAC9B,GAAG,MAAM,QAAQ;AAAA,MACjB,KAAK,MAAM,QAAQ;AAAA,MACnB,IAAI,IAAI,aAAa,MAAM,OAAO;AAAA,MAClC,cAAc,SAAS,SAAS;AAAA,MAChC,kBAAc,4BAAS,SAAS;AAAA,MAChC,qBAAiB,4BAAS,UAAU;AAAA,MACpC,oBAAgB,4BAAS,SAAS;AAAA,IACpC,CAAC;AAAA,IAED,iBAAiB,UAAU,QAAQ;AAAA,MACjC,GAAG,MAAM,WAAW;AAAA,MACpB,KAAK,MAAM,QAAQ;AAAA,MACnB,IAAI,IAAI,gBAAgB,MAAM,OAAO;AAAA,MACrC,OAAO,aAAa;AAAA,IACtB,CAAC;AAAA,IAED,YAAY,UAAU,MAAM;AAAA,MAC1B,GAAG,MAAM,MAAM;AAAA,MACf,KAAK,MAAM,QAAQ;AAAA,MACnB,oBAAgB,4BAAS,SAAS;AAAA,MAClC,oBAAgB,4BAAS,SAAS;AAAA,MAClC,MAAM,MAAM,QAAQ;AAAA,MACpB,MAAM,MAAM,QAAQ;AAAA,MACpB,UAAU;AAAA,MACV,WAAW,MAAM,QAAQ;AAAA,MACzB,cAAc;AAAA,MACd,aAAa;AAAA,MACb,gBAAgB;AAAA,MAChB,YAAY;AAAA,MACZ,UAAU;AAAA,MACV,aAAa,MAAM,QAAQ;AAAA,MAC3B,IAAI,IAAI,WAAW,MAAM,OAAO;AAAA,MAChC,MAAM;AAAA,MACN,MAAM;AAAA,MACN,cAAc,MAAM,QAAQ,cAAc,MAAM,QAAQ;AAAA,MACxD,qBAAqB,MAAM,QAAQ,eAAe,SAAS;AAAA,MAC3D,iBAAiB,SAAS,IAAI,aAAa,MAAM,OAAO,IAAI;AAAA,MAC5D,iBAAiB;AAAA,MACjB,cAAc,SAAS,SAAS;AAAA,MAChC,yBAAyB,MAAM,QAAQ,mBACnC,IAAI,UAAU,MAAM,SAAS,MAAM,QAAQ,gBAAgB,IAC3D;AAAA,MACJ,qBAAqB;AACnB,aAAK,yBAAyB;AAAA,MAChC;AAAA,MACA,mBAAmB;AACjB,mCAAI,MAAM;AACR,eAAK,uBAAuB;AAAA,QAC9B,CAAC;AAAA,MACH;AAAA,MACA,UAAU;AACR,YAAI,CAAC;AAAe;AACpB,aAAK,aAAa;AAAA,MACpB;AAAA,MACA,UAAU;AACR,YAAI;AAAY;AAChB,aAAK,aAAa;AAAA,MACpB;AAAA,MACA,SAAS;AACP,YAAI;AAAY;AAChB,aAAK,YAAY;AAAA,MACnB;AAAA,MACA,SAAS,OAAO;AACd,aAAK,EAAE,MAAM,gBAAgB,OAAO,MAAM,cAAc,MAAM,CAAC;AAAA,MACjE;AAAA,MACA,UAAU,OAAO;AACf,YAAI,CAAC;AAAe;AAEpB,cAAM,UAAM,iCAAe,KAAK;AAChC,YAAI,IAAI,WAAW,IAAI,YAAY,IAAI;AAAa;AAEpD,cAAM,SAAsB;AAAA,UAC1B,UAAUC,QAAO;AACf,iBAAK,EAAE,MAAMA,OAAM,SAAS,yBAAyB,mBAAmB,CAAC;AACzE,YAAAA,OAAM,eAAe;AACrB,YAAAA,OAAM,gBAAgB;AAAA,UACxB;AAAA,UACA,UAAU;AACR,iBAAK,MAAM,SAAS,uBAAuB,gBAAgB;AAC3D,kBAAM,eAAe;AACrB,kBAAM,gBAAgB;AAAA,UACxB;AAAA,UACA,KAAKA,QAAO;AACV,kBAAM,aAAaA,OAAM,WAAWA,OAAM,WAAWA,OAAM;AAC3D,gBAAI;AAAY;AAChB,iBAAK,YAAY;AACjB,gBAAI,QAAQ;AACV,cAAAA,OAAM,eAAe;AACrB,cAAAA,OAAM,gBAAgB;AAAA,YACxB;AAAA,UACF;AAAA,UACA,IAAIA,QAAO;AACT,kBAAM,aAAaA,OAAM,WAAWA,OAAM,WAAWA,OAAM;AAC3D,gBAAI;AAAY;AAChB,iBAAK,WAAW;AAChB,gBAAI,QAAQ;AACV,cAAAA,OAAM,eAAe;AACrB,cAAAA,OAAM,gBAAgB;AAAA,YACxB;AAAA,UACF;AAAA,UACA,QAAQ;AACN,gBAAI,MAAM,QAAQ;AAAW;AAC7B,iBAAK,aAAa;AAClB,kBAAM,eAAe;AACrB,kBAAM,gBAAgB;AAAA,UACxB;AAAA,UACA,SAAS;AACP,iBAAK,cAAc;AACnB,kBAAM,eAAe;AAAA,UAEvB;AAAA,QACF;AAEA,cAAM,UAAM,8BAAY,OAAO,MAAM,OAAO;AAC5C,cAAM,OAAO,OAAO,GAAG;AACvB,eAAO,KAAK;AAAA,MACd;AAAA,IACF,CAAC;AAAA,IAED,cAAc,UAAU,OAAO;AAAA,MAC7B,GAAG,MAAM,QAAQ;AAAA,MACjB,KAAK,MAAM,QAAQ;AAAA,MACnB,IAAI,IAAI,aAAa,MAAM,OAAO;AAAA,MAClC,iBAAiB;AAAA,MACjB,MAAM;AAAA,MACN,UAAU;AAAA,MACV,cAAc,aAAa;AAAA,MAC3B,iBAAiB;AAAA,MACjB,cAAc,SAAS,SAAS;AAAA,MAChC,iBAAiB,SAAS,IAAI,aAAa,MAAM,OAAO,IAAI;AAAA,MAC5D,UAAU;AAAA,MACV,qBAAiB,4BAAS,UAAU;AAAA,MACpC,qBAAiB,4BAAS,UAAU;AAAA,MACpC,cAAc,OAAO;AACnB,cAAM,UAAM,iCAAe,KAAK;AAChC,YAAI,CAAC,iBAAiB,KAAC,8BAAY,GAAG,KAAK,IAAI,gBAAgB;AAAS;AACxE,aAAK,eAAe;AACpB,cAAM,eAAe;AAAA,MACvB;AAAA,MACA,YAAY,OAAO;AACjB,YAAI,MAAM,gBAAgB;AAAS;AACnC,aAAK,eAAe;AAAA,MACtB;AAAA,MACA,OAAO,EAAE,SAAS,EAAE;AAAA,IACtB,CAAC;AAAA,IAED,cAAc,UAAU,QAAQ;AAAA,MAC9B,GAAG,MAAM,QAAQ;AAAA,MACjB,KAAK,MAAM,QAAQ;AAAA,MACnB,IAAI,IAAI,aAAa,MAAM,OAAO;AAAA,MAClC,MAAM;AAAA,MACN,UAAU;AAAA,MACV,QAAQ,CAAC;AAAA,MACT,cAAc,SAAS,SAAS;AAAA,MAChC,mBAAmB,IAAI,WAAW,MAAM,OAAO;AAAA,MAC/C,wBAAwB,MAAM,QAAQ,WAAW,OAAO;AAAA,MACxD,cAAc,OAAO;AAEnB,cAAM,eAAe;AAAA,MACvB;AAAA,IACF,CAAC;AAAA,IAED,mBAAmB,UAAU,OAAO;AAAA,MAClC,GAAG,MAAM,aAAa;AAAA,MACtB,KAAK,MAAM,QAAQ;AAAA,MACnB,IAAI,IAAI,kBAAkB,MAAM,OAAO;AAAA,MACvC,MAAM;AAAA,MACN,UAAU;AAAA,MACV,UAAU;AAAA,MACV,cAAc,aAAa;AAAA,MAC3B,QAAQ,MAAM,QAAQ;AAAA,MACtB,cAAc,OAAO;AACnB,cAAM,UAAM,iCAAe,KAAK;AAChC,YAAI,CAAC,iBAAiB,KAAC,8BAAY,GAAG;AAAG;AACzC,aAAK,EAAE,MAAM,eAAe,KAAK,gBAAgB,CAAC;AAClD,cAAM,eAAe;AAAA,MACvB;AAAA,IACF,CAAC;AAAA,IAED;AAAA,IAEA,aAAa,OAAO;AAClB,YAAM,YAAY,aAAa,KAAK;AACpC,YAAM,QAAQ,UAAU;AAExB,aAAO,UAAU,QAAQ;AAAA,QACvB,GAAG,MAAM,KAAK;AAAA,QACd,KAAK,MAAM,QAAQ;AAAA,QACnB,IAAI,IAAI,UAAU,MAAM,SAAS,KAAK;AAAA,QACtC,MAAM;AAAA,QACN,UAAU;AAAA,QACV,wBAAoB,4BAAS,UAAU,aAAa;AAAA,QACpD,cAAc,UAAU,aAAa,YAAY;AAAA,QACjD,iBAAiB,UAAU;AAAA,QAC3B,iBAAiB,UAAU;AAAA,QAC3B,qBAAiB,4BAAS,UAAU,UAAU;AAAA,QAC9C,cAAc,UAAU;AAAA,QACxB,gBAAgB;AACd,cAAI,UAAU;AAAY;AAC1B,eAAK,EAAE,MAAM,qBAAqB,MAAM,CAAC;AAAA,QAC3C;AAAA,QACA,iBAAiB;AACf,cAAI,UAAU;AAAY;AAC1B,eAAK,EAAE,MAAM,sBAAsB,MAAM,CAAC;AAAA,QAC5C;AAAA,QACA,YAAY,OAAO;AACjB,cAAI,UAAU,kBAAc,qCAAmB,KAAK;AAAG;AACvD,eAAK,EAAE,MAAM,cAAc,KAAK,aAAa,MAAM,CAAC;AAAA,QACtD;AAAA,MACF,CAAC;AAAA,IACH;AAAA,IAEA,iBAAiB,OAAO;AACtB,YAAM,YAAY,aAAa,KAAK;AACpC,aAAO,UAAU,QAAQ;AAAA,QACvB,GAAG,MAAM,SAAS;AAAA,QAClB,KAAK,MAAM,QAAQ;AAAA,QACnB,qBAAiB,4BAAS,UAAU,UAAU;AAAA,QAC9C,wBAAoB,4BAAS,UAAU,aAAa;AAAA,MACtD,CAAC;AAAA,IACH;AAAA,IACA,sBAAsB,OAAO;AAC3B,YAAM,YAAY,aAAa,KAAK;AACpC,aAAO,UAAU,QAAQ;AAAA,QACvB,eAAe;AAAA,QACf,GAAG,MAAM,cAAc;AAAA,QACvB,KAAK,MAAM,QAAQ;AAAA,QACnB,cAAc,UAAU,aAAa,YAAY;AAAA,QACjD,QAAQ,CAAC,UAAU;AAAA,MACrB,CAAC;AAAA,IACH;AAAA,IAEA,kBAAkB,OAAO;AACvB,YAAM,EAAE,GAAG,IAAI;AACf,aAAO,UAAU,QAAQ;AAAA,QACvB,GAAG,MAAM,UAAU;AAAA,QACnB,KAAK,MAAM,QAAQ;AAAA,QACnB,IAAI,IAAI,eAAe,MAAM,SAAS,EAAE;AAAA,QACxC,mBAAmB,IAAI,oBAAoB,MAAM,SAAS,EAAE;AAAA,MAC9D,CAAC;AAAA,IACH;AAAA,IAEA,uBAAuB,OAAO;AAC5B,YAAM,EAAE,QAAQ,IAAI;AACpB,aAAO,UAAU,QAAQ;AAAA,QACvB,GAAG,MAAM,eAAe;AAAA,QACxB,KAAK,MAAM,QAAQ;AAAA,QACnB,IAAI,IAAI,oBAAoB,MAAM,SAAS,OAAO;AAAA,QAClD,MAAM;AAAA,MACR,CAAC;AAAA,IACH;AAAA,EACF;AACF;;;AEvWA,yBAA2B;AAC3B,IAAAC,eAAsC;AACtC,yBAAwC;AACxC,IAAAC,oBAAoB;AACpB,+BAAmD;AACnD,IAAAC,iBAA6B;AAC7B,mBAAqD;AAKrD,IAAM,EAAE,KAAK,IAAI,IAAI;AAErB,IAAM,sBAAsB;AAErB,SAAS,QAAkC,aAAoC;AACpF,QAAM,UAAM,sBAAQ,WAAW;AAC/B,aAAO;AAAA,IACL;AAAA,MACE,IAAI;AAAA,MACJ,SAAS,IAAI,YAAY,YAAY;AAAA,MACrC,SAAS;AAAA,QACP,MAAM;AAAA,QACN,aAAa;AAAA,QACb,WAAW;AAAA,QACX,OAAO,CAAC;AAAA,QACR,kBAAkB;AAAA,QAClB,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,kBAAkB;AAAA,QAClB,eAAe;AAAA,QACf,eAAe;AAAA,QACf,mBAAmB;AAAA,QACnB,GAAG;AAAA,QACH,YAAY,IAAI,cAAc,WAAW,MAAM;AAAA,QAC/C,aAAa;AAAA,UACX,WAAW;AAAA,UACX,MAAM;AAAA,UACN,WAAW;AAAA,UACX,GAAG,IAAI;AAAA,QACT;AAAA,QACA,cAAc;AAAA,UACZ,cAAc;AAAA,UACd,mBAAmB;AAAA,UACnB,GAAG,IAAI;AAAA,QACT;AAAA,MACF;AAAA,MAEA,UAAU;AAAA,QACR,mBAAmB,CAACC,SAAQA,KAAI,WAAW,WAAW;AAAA,QACtD,eAAe,CAACA,SAAQ,EAAEA,KAAI,YAAYA,KAAI;AAAA,QAC9C,cAAc,CAACA,SAAQA,KAAI,kBAAkB;AAAA,QAC7C,eAAe,CAACA,SAAQA,KAAI,kBAAkB;AAAA,QAC9C,eAAe,CAACA,SAAQA,KAAI,WAAW,MAAMA,KAAI,KAAK;AAAA,QACtD,iBAAiB,CAACA,SAAQA,KAAI,WAAW,KAAKA,KAAI,gBAAgB;AAAA,QAClE,eAAe,CAACA,SAAQA,KAAI,WAAW,cAAcA,KAAI,aAAa;AAAA,QACtE,kBAAkB,CAACA,SAAQA,KAAI,MAAM,SAAS;AAAA,MAChD;AAAA,MAEA,OAAO;AAAA,QACL,YAAY,CAAC,gBAAgB;AAAA,QAC7B,kBAAkB,CAAC,oBAAoB;AAAA,MACzC;AAAA,MAEA,IAAI;AAAA,QACF,yBAAyB;AAAA,UACvB,SAAS,CAAC,oBAAoB;AAAA,QAChC;AAAA,QACA,eAAe;AAAA,UACb,SAAS,CAAC,YAAY;AAAA,QACxB;AAAA,QACA,cAAc;AAAA,UACZ,SAAS,CAAC,WAAW;AAAA,QACvB;AAAA,QACA,aAAa;AAAA,UACX,SAAS,CAAC,kBAAkB;AAAA,QAC9B;AAAA,QACA,mBAAmB;AAAA,UACjB,SAAS;AAAA,QACX;AAAA,QACA,eAAe;AAAA,UACb,QAAQ;AAAA,UACR,SAAS,CAAC,mBAAmB,oBAAoB;AAAA,QACnD;AAAA,QACA,2BAA2B;AAAA,UACzB,SAAS,CAAC,gBAAgB;AAAA,QAC5B;AAAA,QACA,yBAAyB;AAAA,UACvB,SAAS,CAAC,kBAAkB;AAAA,QAC9B;AAAA,QACA,kBAAkB;AAAA,UAChB,SAAS,CAAC,eAAe;AAAA,QAC3B;AAAA,QACA,mBAAmB;AAAA,UACjB,SAAS,CAAC,YAAY;AAAA,QACxB;AAAA,MACF;AAAA,MAEA,QAAQ;AAAA,QACN,MAAM;AAAA,UACJ,MAAM,CAAC,QAAQ,QAAQ;AAAA,UACvB,OAAO,CAAC,sBAAsB,sBAAsB;AAAA,UACpD,IAAI;AAAA,YACF,iBAAiB;AAAA,cACf,QAAQ;AAAA,cACR,SAAS,CAAC,cAAc,8BAA8B,cAAc;AAAA,YACtE;AAAA,YACA,eAAe;AAAA,cACb,OAAO;AAAA,cACP,QAAQ;AAAA,cACR,SAAS,CAAC,8BAA8B,cAAc;AAAA,YACxD;AAAA,YACA,eAAe;AAAA,cACb,QAAQ;AAAA,YACV;AAAA,YACA,MAAM;AAAA,cACJ,QAAQ;AAAA,cACR,SAAS,CAAC,cAAc;AAAA,YAC1B;AAAA,UACF;AAAA,QACF;AAAA,QAEA,SAAS;AAAA,UACP,MAAM,CAAC,WAAW,QAAQ;AAAA,UAC1B,OAAO,CAAC,cAAc,sBAAsB,sBAAsB;AAAA,UAClE,IAAI;AAAA,YACF,gBAAgB;AAAA,cACd,QAAQ;AAAA,cACR,SAAS;AAAA,YACX;AAAA,YACA,0BAA0B;AAAA,cACxB,QAAQ;AAAA,YACV;AAAA,YACA,gBAAgB;AAAA,cACd,OAAO,IAAI,iBAAiB,IAAI,kBAAkB,CAAC;AAAA,cACnD,SAAS;AAAA,YACX;AAAA,YACA,cAAc;AAAA,cACZ,QAAQ;AAAA,YACV;AAAA,YACA,eAAe;AAAA,cACb,OAAO;AAAA,cACP,QAAQ;AAAA,cACR,SAAS,CAAC,8BAA8B,cAAc;AAAA,YACxD;AAAA,YACA,iBAAiB;AAAA,cACf,QAAQ;AAAA,cACR,SAAS,CAAC,cAAc,8BAA8B,cAAc;AAAA,YACtE;AAAA,YACA,oBAAoB;AAAA,cAClB;AAAA,gBACE,OAAO;AAAA,gBACP,QAAQ;AAAA,gBACR,SAAS,CAAC,cAAc;AAAA,cAC1B;AAAA,cACA;AAAA,gBACE,OAAO;AAAA,gBACP,QAAQ;AAAA,gBACR,SAAS,CAAC,8BAA8B,cAAc;AAAA,cACxD;AAAA,cACA;AAAA,gBACE,QAAQ;AAAA,gBACR,SAAS,CAAC,sBAAsB,cAAc;AAAA,cAChD;AAAA,YACF;AAAA,YACA,wBAAwB;AAAA,cACtB,QAAQ;AAAA,cACR,SAAS;AAAA,YACX;AAAA,YACA,kBAAkB;AAAA,cAChB;AAAA,gBACE,OAAO;AAAA,gBACP,QAAQ;AAAA,gBACR,SAAS;AAAA,cACX;AAAA,cACA;AAAA,gBACE,OAAO;AAAA,gBACP,QAAQ;AAAA,gBACR,SAAS,CAAC,8BAA8B,cAAc;AAAA,cACxD;AAAA,cACA;AAAA,gBACE,QAAQ;AAAA,gBACR,SAAS,CAAC,qBAAqB,cAAc;AAAA,cAC/C;AAAA,YACF;AAAA,YACA,MAAM;AAAA,cACJ,QAAQ;AAAA,cACR,SAAS,CAAC,cAAc;AAAA,YAC1B;AAAA,UACF;AAAA,QACF;AAAA,QAEA,aAAa;AAAA,UACX,MAAM,CAAC,QAAQ,SAAS;AAAA,UACxB,YAAY,CAAC,kBAAkB,yBAAyB,oBAAoB,mBAAmB;AAAA,UAC/F,IAAI;AAAA,YACF,cAAc;AAAA,cACZ,SAAS,CAAC,oBAAoB;AAAA,YAChC;AAAA,YACA,aAAa;AAAA,cACX,SAAS,CAAC,mBAAmB;AAAA,YAC/B;AAAA,YACA,oBAAoB;AAAA,cAClB;AAAA,gBACE,OAAO,IAAI,gBAAgB,uBAAuB;AAAA,gBAClD,SAAS,CAAC,wBAAwB,oBAAoB;AAAA,cACxD;AAAA,cACA;AAAA,gBACE,SAAS,CAAC,mBAAmB;AAAA,cAC/B;AAAA,YACF;AAAA,YACA,kBAAkB;AAAA,cAChB;AAAA,gBACE,OAAO,IAAI,gBAAgB,wBAAwB;AAAA,gBACnD,SAAS;AAAA,cACX;AAAA,cACA;AAAA,gBACE,SAAS;AAAA,cACX;AAAA,YACF;AAAA,YACA,sBAAsB;AAAA,cACpB,QAAQ;AAAA,YACV;AAAA,YACA,eAAe;AAAA,cACb;AAAA,gBACE,OAAO,IAAI,eAAe;AAAA,gBAC1B,SAAS,CAAC,uBAAuB;AAAA,cACnC;AAAA,cACA;AAAA,gBACE,QAAQ;AAAA,gBACR,SAAS,CAAC,yBAAyB,eAAe;AAAA,cACpD;AAAA,YACF;AAAA,YACA,gBAAgB;AAAA,cACd;AAAA,gBACE,OAAO;AAAA,gBACP,QAAQ;AAAA,gBACR,SAAS,CAAC,eAAe;AAAA,cAC3B;AAAA,cACA;AAAA,gBACE,QAAQ;AAAA,gBACR,SAAS,CAAC,wBAAwB,eAAe;AAAA,cACnD;AAAA,YACF;AAAA,YACA,qBAAqB;AAAA,cACnB,SAAS,CAAC,oBAAoB;AAAA,YAChC;AAAA,YACA,sBAAsB;AAAA,cACpB,SAAS,CAAC,sBAAsB;AAAA,YAClC;AAAA,YACA,cAAc;AAAA,cACZ;AAAA,gBACE,OAAO,IAAI,eAAe;AAAA,gBAC1B,SAAS,CAAC,YAAY;AAAA,cACxB;AAAA,cACA;AAAA,gBACE,QAAQ;AAAA,gBACR,SAAS,CAAC,cAAc,eAAe;AAAA,cACzC;AAAA,YACF;AAAA,YACA,gBAAgB;AAAA,cACd;AAAA,gBACE,OAAO;AAAA,gBACP,QAAQ;AAAA,gBACR,SAAS,CAAC,kBAAkB,eAAe;AAAA,cAC7C;AAAA,cACA;AAAA,gBACE,QAAQ;AAAA,gBACR,SAAS,CAAC,eAAe;AAAA,cAC3B;AAAA,YACF;AAAA,YACA,iBAAiB;AAAA,cACf,QAAQ;AAAA,cACR,SAAS;AAAA,YACX;AAAA,YACA,0BAA0B;AAAA,cACxB;AAAA,gBACE,OAAO,IAAI,gBAAgB,oBAAoB;AAAA,gBAC/C,QAAQ;AAAA,gBACR,SAAS,CAAC,yBAAyB,eAAe;AAAA,cACpD;AAAA,cACA;AAAA,gBACE,OAAO,IAAI,iBAAiB,IAAI,kBAAkB,CAAC;AAAA,gBACnD,QAAQ;AAAA,gBACR,SAAS,CAAC,oBAAoB,eAAe;AAAA,cAC/C;AAAA,cACA;AAAA,gBACE,QAAQ;AAAA,gBACR,SAAS;AAAA,cACX;AAAA,YACF;AAAA,YACA,OAAO;AAAA,cACL,QAAQ;AAAA,cACR,SAAS;AAAA,YACX;AAAA,UACF;AAAA,QACF;AAAA,QAEA,YAAY;AAAA,UACV,MAAM,CAAC,QAAQ,SAAS;AAAA,UACxB,YAAY;AAAA,YACV;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,UACF;AAAA,UACA,OAAO,CAAC,cAAc,cAAc;AAAA,UACpC,IAAI;AAAA,YACF,iBAAiB;AAAA,cACf,OAAO,IAAI,0BAA0B;AAAA,cACrC,SAAS,CAAC,oBAAoB;AAAA,YAChC;AAAA,YACA,oBAAoB;AAAA,cAClB,QAAQ;AAAA,cACR,SAAS;AAAA,YACX;AAAA,YACA,kBAAkB;AAAA,cAChB,QAAQ;AAAA,cACR,SAAS;AAAA,YACX;AAAA,YACA,sBAAsB;AAAA,cACpB,QAAQ;AAAA,YACV;AAAA,YACA,cAAc;AAAA,cACZ,QAAQ;AAAA,cACR,SAAS,CAAC,oBAAoB;AAAA,YAChC;AAAA,YACA,aAAa;AAAA,cACX,QAAQ;AAAA,cACR,SAAS,CAAC,mBAAmB;AAAA,YAC/B;AAAA,YACA,eAAe;AAAA,cACb;AAAA,gBACE,OAAO,IAAI,eAAe;AAAA,gBAC1B,SAAS,CAAC,uBAAuB;AAAA,cACnC;AAAA,cACA;AAAA,gBACE,QAAQ;AAAA,gBACR,SAAS,CAAC,yBAAyB,eAAe;AAAA,cACpD;AAAA,YACF;AAAA,YACA,gBAAgB;AAAA,cACd;AAAA,gBACE,OAAO;AAAA,gBACP,SAAS,CAAC,iBAAiB,oBAAoB;AAAA,cACjD;AAAA,cACA;AAAA,gBACE,SAAS,CAAC,wBAAwB,eAAe;AAAA,cACnD;AAAA,YACF;AAAA,YACA,gBAAgB;AAAA,cACd,QAAQ;AAAA,cACR,SAAS;AAAA,YACX;AAAA,YACA,qBAAqB;AAAA,cACnB,QAAQ;AAAA,cACR,SAAS;AAAA,YACX;AAAA,YACA,sBAAsB;AAAA,cACpB,SAAS;AAAA,YACX;AAAA,YACA,0BAA0B;AAAA,cACxB;AAAA,gBACE,OAAO,IAAI,iBAAiB,IAAI,kBAAkB,CAAC;AAAA,gBACnD,QAAQ;AAAA,gBACR,SAAS,CAAC,oBAAoB,eAAe;AAAA,cAC/C;AAAA,cACA;AAAA,gBACE,QAAQ;AAAA,gBACR,SAAS;AAAA,cACX;AAAA,YACF;AAAA,YACA,iBAAiB;AAAA,cACf,QAAQ;AAAA,cACR,SAAS;AAAA,YACX;AAAA,YACA,cAAc;AAAA,cACZ;AAAA,gBACE,OAAO,IAAI,eAAe;AAAA,gBAC1B,SAAS,CAAC,YAAY;AAAA,cACxB;AAAA,cACA;AAAA,gBACE,QAAQ;AAAA,gBACR,SAAS,CAAC,cAAc,eAAe;AAAA,cACzC;AAAA,YACF;AAAA,YACA,OAAO;AAAA,cACL,QAAQ;AAAA,cACR,SAAS;AAAA,YACX;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAAA,IAEA;AAAA,MACE,QAAQ;AAAA,QACN,aAAa,CAACA,SAAQ,CAAC,CAACA,KAAI;AAAA,QAC5B,mBAAmB,CAACA,SAAQA,KAAI;AAAA,QAChC,cAAc,CAACA,SAAQA,KAAI,gBAAgB,CAACA,KAAI;AAAA,QAChD,eAAe,CAACA,SAAQA,KAAI;AAAA,QAC5B,wBAAwB,CAACA,SAAQA,KAAI,WAAW,MAAM,MAAMA,KAAI;AAAA,QAChE,uBAAuB,CAACA,SAAQA,KAAI,WAAW,KAAK,MAAMA,KAAI;AAAA,QAC9D,eAAe,CAACA,SAAQA,KAAI,eAAeA,KAAI;AAAA,QAC/C,kBAAkB,CAACA,SAAQ,CAAC,CAACA,KAAI;AAAA,QACjC,oBAAoB,CAACA,SAAQA,KAAI,oBAAoB;AAAA,QACrD,kBAAkB,CAACA,SAAQA,KAAI;AAAA,QAC/B,cAAc,CAACA,SAAQ,CAAC,CAACA,KAAI;AAAA,QAC7B,eAAe,CAACA,SAASA,KAAI,WAAW,QAAQ,CAAC,CAACA,KAAI;AAAA,QACtD,0BAA0B,CAACA,SAAQA,KAAI,WAAW,IAAIA,KAAI,gBAAgB;AAAA,MAC5E;AAAA,MAEA,YAAY;AAAA,QACV,sBAAsBA,MAAK,MAAM,EAAE,KAAK,GAAG;AACzC,gBAAM,YAAY,MAAM,IAAI,aAAaA,IAAG;AAC5C,qBAAO,4CAAwB,WAAW;AAAA,YACxC,OAAO;AAAA,YACP,SAAS,MAAM;AAAA,cACb,IAAI,WAAWA,IAAG;AAAA,cAClB,IAAI,aAAaA,IAAG;AAAA,cACpB,IAAI,aAAaA,IAAG;AAAA,cACpB,IAAI,kBAAkBA,IAAG;AAAA,YAC3B;AAAA,YACA,gBAAgBA,KAAI;AAAA,YACpB,sBAAsBA,KAAI;AAAA,YAC1B,mBAAmBA,KAAI;AAAA,YACvB,gBAAgB,OAAO;AACrB,oBAAM,eAAe;AACrB,mBAAK,cAAc;AAAA,YACrB;AAAA,YACA,YAAY;AACV,mBAAK,EAAE,MAAM,yBAAyB,CAAC;AAAA,YACzC;AAAA,UACF,CAAC;AAAA,QACH;AAAA,QACA,kBAAkBA,MAAK;AACrB,qBAAO,+BAAW,CAAC,IAAI,WAAWA,IAAG,GAAG,IAAI,aAAaA,IAAG,GAAG,IAAI,aAAaA,IAAG,CAAC,CAAC;AAAA,QACvF;AAAA,QACA,iBAAiBA,MAAK;AACpB,gBAAM,YAAY,MAAM,IAAI,aAAaA,IAAG;AAC5C,gBAAM,eAAe,MAAM,IAAI,gBAAgBA,IAAG;AAClD,UAAAA,KAAI,mBAAmBA,KAAI,YAAY;AACvC,qBAAO,6BAAa,WAAW,cAAc;AAAA,YAC3C,GAAGA,KAAI;AAAA,YACP,OAAO;AAAA,YACP,WAAW,MAAM;AACf,cAAAA,KAAI,mBAAmB,KAAK;AAAA,YAC9B;AAAA,YACA,YAAY;AACV,cAAAA,KAAI,mBAAmB;AAAA,YACzB;AAAA,UACF,CAAC;AAAA,QACH;AAAA;AAAA,QAEA,gBAAgBA,MAAK,MAAM,EAAE,KAAK,GAAG;AACnC,cAAI,CAACA,KAAI;AAAe;AACxB,gBAAM,OAAO,MAAM,KAAK,iBAAiB;AACzC,eAAK;AACL,qBAAO,0CAAgB,IAAI,aAAaA,IAAG,GAAG,IAAI;AAAA,QACpD;AAAA,QACA,eAAeA,MAAK,MAAM,EAAE,SAAS,GAAG;AACtC,gBAAM,UAAU,IAAI,WAAWA,IAAG;AAElC,gBAAM,OAAO,MAAM;AACjB,kBAAM,QAAQ,SAAS;AAEvB,kBAAM,YAAY,MAAM,MAAM,KAAK,WAAW,cAAc;AAC5D,gBAAI,aAAa,CAACA,KAAI;AAAkB;AAExC,kBAAM,WAAW,IAAI,qBAAqBA,IAAG;AAC7C,sBAAU,eAAe,EAAE,OAAO,UAAU,CAAC;AAAA,UAC/C;AAEA,qCAAI,MAAM,KAAK,CAAC;AAChB,qBAAO,4CAAkB,SAAS,CAAC,uBAAuB,GAAG,IAAI;AAAA,QACnE;AAAA,MACF;AAAA,MAEA,SAAS;AAAA,QACP,WAAWA,MAAK,KAAK;AACnB,gBAAM,YAAY,MAAM,IAAI,aAAaA,IAAG;AAC5C,gBAAM,eAAe,MAAM,IAAI,gBAAgBA,IAAG;AAClD,2CAAa,WAAW,cAAc;AAAA,YACpC,GAAGA,KAAI;AAAA,YACP,GAAG,IAAI;AAAA,YACP,OAAO;AAAA,YACP,WAAW;AAAA,YACX,WAAW,MAAM;AACf,cAAAA,KAAI,mBAAmB,KAAK;AAAA,YAC9B;AAAA,UACF,CAAC;AAAA,QACH;AAAA,QACA,eAAeA,MAAK;AAClB,UAAAA,KAAI,YAAY;AAAA,QAClB;AAAA,QACA,iBAAiBA,MAAK;AACpB,UAAAA,KAAI,YAAY;AAAA,QAClB;AAAA,QACA,mBAAmBA,MAAK,KAAK;AAC3B,cAAI,gBAAgBA,MAAK,IAAI,KAAK;AAAA,QACpC;AAAA,QACA,qBAAqBA,MAAK;AACxB,cAAI,gBAAgBA,MAAK,MAAM,IAAI;AAAA,QACrC;AAAA,QACA,sBAAsBA,MAAK;AACzB,cAAI,aAAaA,MAAKA,KAAI,gBAAgB;AAAA,QAC5C;AAAA,QACA,WAAWA,MAAK,KAAK;AACnB,cAAI,aAAaA,MAAK,IAAI,KAAK;AAAA,QACjC;AAAA,QACA,UAAUA,MAAK,KAAK;AAClB,gBAAM,QAAQA,KAAI,MAAM,OAAO,CAAC,MAAM,MAAM,IAAI,KAAK;AACrD,cAAI,cAAcA,MAAK,KAAK;AAAA,QAC9B;AAAA,QACA,WAAWA,MAAK;AACd,cAAI,IAAI,eAAeA,IAAG;AAAG;AAC7B,cAAI,WAAWA,IAAG,GAAG,MAAM,EAAE,eAAe,KAAK,CAAC;AAAA,QACpD;AAAA,QACA,eAAeA,MAAK,KAAK;AACvB,gBAAM,WAAW,CAAC,oBAAoB,KAAK,IAAI,IAAI;AACnD,gBAAM,UAAU,IAAI,WAAWA,IAAG;AAElC,cAAI,CAAC;AAAS;AACd,kBAAQ,QAAQA,KAAI;AAEpB,qCAAI,MAAM;AACR,gBAAI;AAAU;AAEd,kBAAM,EAAE,gBAAgB,aAAa,IAAI;AAEzC,gBAAI,KAAK,KAAK,gBAAgB,MAAM,kBAAkB,EAAE,MAAM;AAAG;AACjE,gBAAI,mBAAmB;AAAG;AAE1B,oBAAQ,kBAAkB,QAAQ,MAAM,QAAQ,QAAQ,MAAM,MAAM;AAAA,UACtE,CAAC;AAAA,QACH;AAAA,QACA,cAAcA,MAAK,KAAK;AACtB,cAAI,WAAWA,MAAK,IAAI,KAAK;AAAA,QAC/B;AAAA,QACA,gBAAgBA,MAAK;AACnB,cAAI,WAAWA,MAAK,EAAE;AAAA,QACxB;AAAA,QACA,iBAAiBA,MAAK;AACpB,cAAI,WAAWA,MAAKA,KAAI,mBAAmBA,KAAI,gBAAgB,EAAE;AAAA,QACnE;AAAA,QACA,iBAAiBA,MAAK,KAAK;AACzB,cAAI,cAAcA,MAAK,IAAI,KAAK;AAAA,QAClC;AAAA,QACA,mBAAmBA,MAAK;AACtB,cAAI,cAAcA,MAAK,CAAC,CAAC;AAAA,QAC3B;AAAA,QACA,mBAAmBA,MAAK;AACtB,gBAAM,YAAY,IAAI,aAAaA,IAAG;AACtC,cAAI,CAAC;AAAW;AAChB,oBAAU,YAAY;AAAA,QACxB;AAAA,QACA,aAAaA,MAAK;AAChB,UAAAA,KAAI,eAAe,EAAE,MAAM,KAAK,CAAC;AAAA,QACnC;AAAA,QACA,cAAcA,MAAK;AACjB,UAAAA,KAAI,eAAe,EAAE,MAAM,MAAM,CAAC;AAAA,QACpC;AAAA,QACA,mBAAmBA,MAAK;AACtB,gBAAM,QAAQA,KAAI,WAAW,MAAM;AACnC,cAAI,gBAAgBA,MAAK,KAAK;AAAA,QAChC;AAAA,QACA,kBAAkBA,MAAK;AACrB,gBAAM,QAAQA,KAAI,WAAW,KAAK;AAClC,cAAI,gBAAgBA,MAAK,KAAK;AAAA,QAChC;AAAA,QACA,kBAAkBA,MAAK;AACrB,gBAAM,QAAQA,KAAI,WAAW,KAAKA,KAAI,gBAAgB,MAAMA,KAAI,OAAOA,KAAI,WAAW,MAAM,IAAI;AAChG,cAAI,gBAAgBA,MAAK,KAAK;AAAA,QAChC;AAAA,QACA,kBAAkBA,MAAK;AACrB,gBAAM,QAAQA,KAAI,WAAW,KAAKA,KAAI,gBAAgB,MAAMA,KAAI,OAAOA,KAAI,WAAW,KAAK,IAAI;AAC/F,cAAI,gBAAgBA,MAAK,KAAK;AAAA,QAChC;AAAA,QACA,2BAA2BA,MAAK;AAC9B,gBAAM,CAAC,KAAK,IAAIA,KAAI,WAAW,KAAKA,KAAI,KAAK;AAC7C,cAAI,gBAAgBA,MAAK,KAAK;AAAA,QAChC;AAAA,QACA,mBAAmBA,MAAK,KAAK;AAC3B,gBAAM,UAAU,IAAI,WAAWA,IAAG;AAClC,cAAI,CAACA,KAAI,gBAAgB,CAAC,WAAW,CAAC,oBAAoB,KAAK,IAAI,IAAI;AAAG;AAC1E,gBAAM,YAAYA,KAAI,WAAW,cAAcA,KAAI,gBAAgB;AACnE,qCAAI,MAAM;AACR,oBAAQ,QAAQ,aAAaA,KAAI;AAAA,UACnC,CAAC;AAAA,QACH;AAAA,QACA,cAAcA,MAAK,KAAK;AACtB,UAAAA,KAAI,aAAa,IAAI;AAAA,QACvB;AAAA,MACF;AAAA,IACF;AAAA,EACF;AACF;AAEA,IAAM,SAAS;AAAA,EACb,iBAAiB,CAAC,QAAwB;AACxC,QAAI,gBAAgB;AAAA,MAClB,OAAO,MAAM,KAAK,IAAI,KAAK;AAAA,MAC3B,OAAO,IAAI;AAAA,IACb,CAAC;AAGD,QAAI,iBAAa,oBAAM,IAAI,mBAAmB;AAAA,MAC5C,SAAS,IAAI;AAAA,MACb,OAAO;AAAA,MACP,UAAU,IAAI;AAAA,IAChB,CAAC;AAAA,EACH;AAAA,EACA,iBAAiB,CAAC,QAAwB;AACxC,QAAI,oBAAoB;AAAA,MACtB,kBAAkB,IAAI;AAAA,MACtB,gBAAgB,IAAI;AAAA,IACtB,CAAC;AAAA,EACH;AAAA,EACA,aAAa,CAAC,QAAwB;AACpC,QAAI,qBAAqB,EAAE,OAAO,IAAI,WAAW,CAAC;AAAA,EACpD;AACF;AAEA,IAAM,MAAM;AAAA,EACV,cAAc,CAAC,KAAqB,OAAkC,QAAQ,UAAU;AACtF,YAAI,sBAAQ,IAAI,OAAO,KAAK;AAAG;AAE/B,QAAI,SAAS,QAAQ,CAAC;AAAO;AAE7B,QAAI,SAAS,QAAQ,OAAO;AAC1B,UAAI,QAAQ,CAAC;AACb,aAAO,gBAAgB,GAAG;AAC1B;AAAA,IACF;AAEA,QAAI,QAAQ,IAAI,eAAW,0BAAY,IAAI,OAAO,KAAM,IAAI,CAAC,KAAM;AACnE,WAAO,gBAAgB,GAAG;AAAA,EAC5B;AAAA,EACA,eAAe,CAAC,KAAqB,UAAoB;AACvD,YAAI,sBAAQ,IAAI,OAAO,KAAK;AAAG;AAC/B,QAAI,QAAQ;AACZ,WAAO,gBAAgB,GAAG;AAAA,EAC5B;AAAA,EACA,iBAAiB,CAAC,KAAqB,OAAkC,QAAQ,UAAU;AACzF,YAAI,sBAAQ,IAAI,kBAAkB,KAAK;AAAG;AAC1C,QAAI,CAAC,SAAS,CAAC;AAAO;AACtB,QAAI,mBAAmB,SAAS;AAChC,WAAO,gBAAgB,GAAG;AAAA,EAC5B;AAAA,EACA,YAAY,CAAC,KAAqB,UAAkB;AAClD,YAAI,sBAAQ,IAAI,YAAY,KAAK;AAAG;AACpC,QAAI,aAAa;AACjB,WAAO,YAAY,GAAG;AAAA,EACxB;AACF;","names":["import_dom_query","collection","event","import_core","import_dom_query","import_popper","ctx"]}