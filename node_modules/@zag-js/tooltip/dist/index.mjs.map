{"version":3,"sources":["../src/tooltip.anatomy.ts","../src/tooltip.connect.ts","../src/tooltip.dom.ts","../src/tooltip.store.ts","../src/tooltip.machine.ts"],"sourcesContent":["import { createAnatomy } from \"@zag-js/anatomy\"\n\nexport const anatomy = createAnatomy(\"tooltip\").parts(\"trigger\", \"arrow\", \"arrowTip\", \"positioner\", \"content\")\nexport const parts = anatomy.build()\n","import { dataAttr } from \"@zag-js/dom-query\"\nimport { getPlacementStyles } from \"@zag-js/popper\"\nimport type { NormalizeProps, PropTypes } from \"@zag-js/types\"\nimport { parts } from \"./tooltip.anatomy\"\nimport { dom } from \"./tooltip.dom\"\nimport { store } from \"./tooltip.store\"\nimport type { MachineApi, Send, State } from \"./tooltip.types\"\n\nexport function connect<T extends PropTypes>(state: State, send: Send, normalize: NormalizeProps<T>): MachineApi<T> {\n  const id = state.context.id\n  const hasAriaLabel = state.context.hasAriaLabel\n\n  const isOpen = state.hasTag(\"open\")\n\n  const triggerId = dom.getTriggerId(state.context)\n  const contentId = dom.getContentId(state.context)\n\n  const isDisabled = state.context.disabled\n\n  const popperStyles = getPlacementStyles({\n    ...state.context.positioning,\n    placement: state.context.currentPlacement,\n  })\n\n  return {\n    isOpen,\n    open() {\n      send(\"OPEN\")\n    },\n    close() {\n      send(\"CLOSE\")\n    },\n    reposition(options = {}) {\n      send({ type: \"SET_POSITIONING\", options })\n    },\n\n    triggerProps: normalize.button({\n      ...parts.trigger.attrs,\n      id: triggerId,\n      dir: state.context.dir,\n      \"data-expanded\": dataAttr(isOpen),\n      \"data-state\": isOpen ? \"open\" : \"closed\",\n      \"aria-describedby\": isOpen ? contentId : undefined,\n      onClick() {\n        send(\"CLICK\")\n      },\n      onFocus() {\n        if (state.event.type === \"POINTER_DOWN\") return\n        send(\"FOCUS\")\n      },\n      onBlur() {\n        if (id === store.id) {\n          send(\"BLUR\")\n        }\n      },\n      onPointerDown() {\n        if (isDisabled) return\n        if (id === store.id) {\n          send(\"POINTER_DOWN\")\n        }\n      },\n      onPointerMove(event) {\n        if (isDisabled || event.pointerType === \"touch\") return\n        send(\"POINTER_MOVE\")\n      },\n      onPointerLeave() {\n        if (isDisabled) return\n        send(\"POINTER_LEAVE\")\n      },\n      onPointerCancel() {\n        if (isDisabled) return\n        send(\"POINTER_LEAVE\")\n      },\n    }),\n\n    arrowProps: normalize.element({\n      id: dom.getArrowId(state.context),\n      ...parts.arrow.attrs,\n      dir: state.context.dir,\n      style: popperStyles.arrow,\n    }),\n\n    arrowTipProps: normalize.element({\n      ...parts.arrowTip.attrs,\n      dir: state.context.dir,\n      style: popperStyles.arrowTip,\n    }),\n\n    positionerProps: normalize.element({\n      id: dom.getPositionerId(state.context),\n      ...parts.positioner.attrs,\n      dir: state.context.dir,\n      style: popperStyles.floating,\n    }),\n\n    contentProps: normalize.element({\n      ...parts.content.attrs,\n      dir: state.context.dir,\n      hidden: !isOpen,\n      \"data-state\": isOpen ? \"open\" : \"closed\",\n      role: hasAriaLabel ? undefined : \"tooltip\",\n      id: hasAriaLabel ? undefined : contentId,\n      \"data-placement\": state.context.currentPlacement,\n      onPointerEnter() {\n        send(\"CONTENT.POINTER_MOVE\")\n      },\n      onPointerLeave() {\n        send(\"CONTENT.POINTER_LEAVE\")\n      },\n      style: {\n        pointerEvents: state.context.interactive ? \"auto\" : \"none\",\n      },\n    }),\n  }\n}\n","import { createScope, getScrollParent } from \"@zag-js/dom-query\"\nimport type { MachineContext as Ctx } from \"./tooltip.types\"\n\nexport const dom = createScope({\n  getTriggerId: (ctx: Ctx) => ctx.ids?.trigger ?? `tooltip:${ctx.id}:trigger`,\n  getContentId: (ctx: Ctx) => ctx.ids?.content ?? `tooltip:${ctx.id}:content`,\n  getArrowId: (ctx: Ctx) => ctx.ids?.arrow ?? `tooltip:${ctx.id}:arrow`,\n  getPositionerId: (ctx: Ctx) => ctx.ids?.positioner ?? `tooltip:${ctx.id}:popper`,\n\n  getTriggerEl: (ctx: Ctx) => dom.getById(ctx, dom.getTriggerId(ctx)),\n  getContentEl: (ctx: Ctx) => dom.getById(ctx, dom.getContentId(ctx)),\n  getPositionerEl: (ctx: Ctx) => dom.getById(ctx, dom.getPositionerId(ctx)),\n  getArrowEl: (ctx: Ctx) => dom.getById(ctx, dom.getArrowId(ctx)),\n  getScrollParent: (ctx: Ctx) => getScrollParent(dom.getTriggerEl(ctx)!),\n})\n","import { proxy } from \"@zag-js/core\"\n\ntype Id = string | null\n\ntype Store = {\n  id: Id\n  prevId: Id\n  setId: (val: Id) => void\n}\n\nexport const store = proxy<Store>({\n  id: null,\n  prevId: null,\n  setId(val) {\n    this.prevId = this.id\n    this.id = val\n  },\n})\n","import { createMachine, subscribe, guards } from \"@zag-js/core\"\nimport { addDomEvent } from \"@zag-js/dom-event\"\nimport { getScrollParents, isHTMLElement, isSafari } from \"@zag-js/dom-query\"\nimport { getPlacement } from \"@zag-js/popper\"\nimport { compact } from \"@zag-js/utils\"\nimport { dom } from \"./tooltip.dom\"\nimport { store } from \"./tooltip.store\"\nimport type { MachineContext, MachineState, UserDefinedContext } from \"./tooltip.types\"\n\nconst { and, not } = guards\n\nexport function machine(userContext: UserDefinedContext) {\n  const ctx = compact(userContext)\n  return createMachine<MachineContext, MachineState>(\n    {\n      id: \"tooltip\",\n      initial: \"closed\",\n\n      context: {\n        openDelay: 1000,\n        closeDelay: 500,\n        closeOnPointerDown: true,\n        closeOnEsc: true,\n        interactive: true,\n        currentPlacement: undefined,\n        ...ctx,\n        hasPointerMoveOpened: false,\n        positioning: {\n          placement: \"bottom\",\n          ...ctx.positioning,\n        },\n      },\n\n      computed: {\n        hasAriaLabel: (ctx) => !!ctx[\"aria-label\"],\n      },\n\n      watch: {\n        disabled: [\"closeIfDisabled\"],\n        open: [\"toggleVisibility\"],\n      },\n\n      on: {\n        OPEN: \"open\",\n        CLOSE: \"closed\",\n      },\n\n      states: {\n        closed: {\n          tags: [\"closed\"],\n          entry: [\"clearGlobalId\", \"invokeOnClose\"],\n          on: {\n            FOCUS: \"open\",\n            POINTER_LEAVE: {\n              actions: [\"clearPointerMoveOpened\"],\n            },\n            POINTER_MOVE: [\n              {\n                guard: and(\"noVisibleTooltip\", not(\"hasPointerMoveOpened\")),\n                target: \"opening\",\n              },\n              {\n                guard: not(\"hasPointerMoveOpened\"),\n                target: \"open\",\n                actions: [\"setPointerMoveOpened\"],\n              },\n            ],\n          },\n        },\n\n        opening: {\n          tags: [\"closed\"],\n          activities: [\"trackScroll\", \"trackPointerlockChange\"],\n          after: {\n            OPEN_DELAY: {\n              target: \"open\",\n              actions: [\"setPointerMoveOpened\"],\n            },\n          },\n          on: {\n            POINTER_LEAVE: {\n              target: \"closed\",\n              actions: [\"clearPointerMoveOpened\"],\n            },\n            BLUR: \"closed\",\n            SCROLL: \"closed\",\n            POINTER_LOCK_CHANGE: \"closed\",\n            POINTER_DOWN: {\n              guard: \"closeOnPointerDown\",\n              target: \"closed\",\n            },\n          },\n        },\n\n        open: {\n          tags: [\"open\"],\n          activities: [\n            \"trackEscapeKey\",\n            \"trackDisabledTriggerOnSafari\",\n            \"trackScroll\",\n            \"trackPointerlockChange\",\n            \"trackPositioning\",\n          ],\n          entry: [\"setGlobalId\", \"invokeOnOpen\"],\n          on: {\n            POINTER_LEAVE: [\n              {\n                guard: \"isVisible\",\n                target: \"closing\",\n                actions: [\"clearPointerMoveOpened\"],\n              },\n              {\n                target: \"closed\",\n                actions: [\"clearPointerMoveOpened\"],\n              },\n            ],\n            BLUR: \"closed\",\n            ESCAPE: \"closed\",\n            SCROLL: \"closed\",\n            POINTER_LOCK_CHANGE: \"closed\",\n            \"CONTENT.POINTER_LEAVE\": {\n              guard: \"isInteractive\",\n              target: \"closing\",\n            },\n            POINTER_DOWN: {\n              guard: \"closeOnPointerDown\",\n              target: \"closed\",\n            },\n            CLICK: \"closed\",\n            SET_POSITIONING: {\n              actions: \"reposition\",\n            },\n          },\n        },\n\n        closing: {\n          tags: [\"open\"],\n          activities: [\"trackStore\", \"trackPositioning\"],\n          after: {\n            CLOSE_DELAY: \"closed\",\n          },\n          on: {\n            FORCE_CLOSE: \"closed\",\n            POINTER_MOVE: {\n              target: \"open\",\n              actions: [\"setPointerMoveOpened\"],\n            },\n            \"CONTENT.POINTER_MOVE\": {\n              guard: \"isInteractive\",\n              target: \"open\",\n            },\n          },\n        },\n      },\n    },\n    {\n      activities: {\n        trackPositioning(ctx) {\n          ctx.currentPlacement = ctx.positioning.placement\n          const getPositionerEl = () => dom.getPositionerEl(ctx)\n          return getPlacement(dom.getTriggerEl(ctx), getPositionerEl, {\n            ...ctx.positioning,\n            defer: true,\n            onComplete(data) {\n              ctx.currentPlacement = data.placement\n            },\n            onCleanup() {\n              ctx.currentPlacement = undefined\n            },\n          })\n        },\n        trackPointerlockChange(ctx, _evt, { send }) {\n          const onChange = () => send(\"POINTER_LOCK_CHANGE\")\n          return addDomEvent(dom.getDoc(ctx), \"pointerlockchange\", onChange, false)\n        },\n        trackScroll(ctx, _evt, { send }) {\n          const trigger = dom.getTriggerEl(ctx)\n          if (!trigger) return\n          const cleanups = getScrollParents(trigger).map((el) => {\n            const opts = { passive: true, capture: true } as const\n            return addDomEvent(el, \"scroll\", () => send(\"SCROLL\"), opts)\n          })\n          return () => {\n            cleanups.forEach((fn) => fn?.())\n          }\n        },\n        trackStore(ctx, _evt, { send }) {\n          return subscribe(store, () => {\n            if (store.id !== ctx.id) {\n              send(\"FORCE_CLOSE\")\n            }\n          })\n        },\n        trackDisabledTriggerOnSafari(ctx, _evt, { send }) {\n          if (!isSafari()) return\n          const doc = dom.getDoc(ctx)\n          return addDomEvent(doc, \"pointermove\", (event) => {\n            const selector = \"[data-part=trigger][data-expanded]\"\n            if (isHTMLElement(event.target) && event.target.closest(selector)) return\n            send(\"POINTER_LEAVE\")\n          })\n        },\n        trackEscapeKey(ctx, _evt, { send }) {\n          if (!ctx.closeOnEsc) return\n          const doc = dom.getDoc(ctx)\n          return addDomEvent(doc, \"keydown\", (event) => {\n            if (event.key === \"Escape\") {\n              send(\"ESCAPE\")\n            }\n          })\n        },\n      },\n      actions: {\n        setGlobalId(ctx) {\n          store.setId(ctx.id)\n        },\n        clearGlobalId(ctx) {\n          if (ctx.id === store.id) {\n            store.setId(null)\n          }\n        },\n        invokeOnOpen(ctx, evt) {\n          const omit = [\"CONTENT.POINTER_MOVE\", \"POINTER_MOVE\"]\n          if (!omit.includes(evt.type)) {\n            ctx.onOpenChange?.({ open: true })\n          }\n        },\n        invokeOnClose(ctx) {\n          ctx.onOpenChange?.({ open: false })\n        },\n        closeIfDisabled(ctx, _evt, { send }) {\n          if (!ctx.disabled) return\n          send(\"CLOSE\")\n        },\n        reposition(ctx, evt) {\n          const getPositionerEl = () => dom.getPositionerEl(ctx)\n          getPlacement(dom.getTriggerEl(ctx), getPositionerEl, {\n            ...ctx.positioning,\n            ...evt.options,\n            defer: true,\n            listeners: false,\n            onComplete(data) {\n              ctx.currentPlacement = data.placement\n            },\n          })\n        },\n        toggleVisibility(ctx, _evt, { send }) {\n          send({ type: ctx.open ? \"OPEN\" : \"CLOSE\", src: \"controlled\" })\n        },\n        setPointerMoveOpened(ctx) {\n          ctx.hasPointerMoveOpened = true\n        },\n        clearPointerMoveOpened(ctx) {\n          ctx.hasPointerMoveOpened = false\n        },\n      },\n      guards: {\n        closeOnPointerDown: (ctx) => ctx.closeOnPointerDown,\n        noVisibleTooltip: () => store.id === null,\n        isVisible: (ctx) => ctx.id === store.id,\n        isInteractive: (ctx) => ctx.interactive,\n        hasPointerMoveOpened: (ctx) => !!ctx.hasPointerMoveOpened,\n      },\n      delays: {\n        OPEN_DELAY: (ctx) => ctx.openDelay,\n        CLOSE_DELAY: (ctx) => ctx.closeDelay,\n      },\n    },\n  )\n}\n"],"mappings":"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","names":["ctx"]}