{"version":3,"sources":["../src/menu.anatomy.ts","../src/menu.connect.ts","../src/menu.dom.ts","../src/menu.machine.ts"],"sourcesContent":["import { createAnatomy } from \"@zag-js/anatomy\"\n\nexport const anatomy = createAnatomy(\"menu\").parts(\n  \"contextTrigger\",\n  \"trigger\",\n  \"triggerItem\",\n  \"indicator\",\n  \"positioner\",\n  \"arrow\",\n  \"arrowTip\",\n  \"content\",\n  \"separator\",\n  \"item\",\n  \"optionItem\",\n  \"optionItemIndicator\",\n  \"optionItemText\",\n  \"itemGroupLabel\",\n  \"itemGroup\",\n)\nexport const parts = anatomy.build()\n","import { mergeProps } from \"@zag-js/core\"\nimport {\n  getEventKey,\n  getEventPoint,\n  getNativeEvent,\n  isContextMenuEvent,\n  isLeftClick,\n  isModifiedEvent,\n  type EventKeyMap,\n} from \"@zag-js/dom-event\"\nimport { dataAttr, getEventTarget, isEditableElement, isSelfEvent } from \"@zag-js/dom-query\"\nimport { getPlacementStyles } from \"@zag-js/popper\"\nimport type { NormalizeProps, PropTypes } from \"@zag-js/types\"\nimport { match } from \"@zag-js/utils\"\nimport { parts } from \"./menu.anatomy\"\nimport { dom } from \"./menu.dom\"\nimport type { ItemProps, ItemState, MachineApi, OptionItemProps, OptionItemState, Send, State } from \"./menu.types\"\n\nexport function connect<T extends PropTypes>(state: State, send: Send, normalize: NormalizeProps<T>): MachineApi<T> {\n  const isSubmenu = state.context.isSubmenu\n  const values = state.context.value\n  const isTypingAhead = state.context.isTypingAhead\n\n  const isOpen = state.hasTag(\"visible\")\n\n  const popperStyles = getPlacementStyles({\n    ...state.context.positioning,\n    placement: state.context.currentPlacement,\n  })\n\n  function getItemState(props: ItemProps): ItemState {\n    return {\n      isDisabled: !!props.disabled,\n      isHighlighted: state.context.highlightedId === props.id,\n    }\n  }\n\n  function getOptionItemProps(props: OptionItemProps) {\n    const id = props.id ?? props.value\n    const valueText = props.valueText ?? props.value\n    return { ...props, id, valueText }\n  }\n\n  function getOptionItemState(props: OptionItemProps): OptionItemState {\n    const itemState = getItemState(getOptionItemProps(props))\n    return {\n      ...itemState,\n      isChecked: !!match(props.type, {\n        radio: () => values?.[props.name] === props.value,\n        checkbox: () => values?.[props.name].includes(props.value),\n      }),\n    }\n  }\n\n  function getItemProps(props: ItemProps) {\n    const { id, closeOnSelect, valueText } = props\n    const itemState = getItemState(props)\n    return normalize.element({\n      ...parts.item.attrs,\n      id,\n      role: \"menuitem\",\n      \"aria-disabled\": itemState.isDisabled,\n      \"data-disabled\": dataAttr(itemState.isDisabled),\n      \"data-ownedby\": dom.getContentId(state.context),\n      \"data-highlighted\": dataAttr(itemState.isHighlighted),\n      \"data-valuetext\": valueText,\n      onDragStart(event) {\n        const isLink = event.currentTarget.matches(\"a[href]\")\n        if (isLink) event.preventDefault()\n      },\n      onPointerLeave(event) {\n        if (itemState.isDisabled || event.pointerType !== \"mouse\") return\n        const target = event.currentTarget\n        send({ type: \"ITEM_POINTERLEAVE\", id, target, closeOnSelect })\n      },\n      onPointerMove(event) {\n        if (itemState.isDisabled || event.pointerType !== \"mouse\") return\n        const target = event.currentTarget\n        send({ type: \"ITEM_POINTERMOVE\", id, target, closeOnSelect })\n      },\n      onPointerDown(event) {\n        if (itemState.isDisabled) return\n        const target = event.currentTarget\n        send({ type: \"ITEM_POINTERDOWN\", target, id, closeOnSelect })\n      },\n      onPointerUp(event) {\n        const evt = getNativeEvent(event)\n        if (!isLeftClick(evt) || itemState.isDisabled) return\n        const target = event.currentTarget\n        send({ type: \"ITEM_CLICK\", src: \"pointerup\", target, id, closeOnSelect })\n        // Fix issue where links don't get clicked in pointerup on touch devices\n        if (target.matches(\"a[href]\") && event.pointerType === \"touch\") {\n          target.click()\n        }\n      },\n    })\n  }\n\n  return {\n    highlightedId: state.context.highlightedId,\n    isOpen,\n    open() {\n      send(\"OPEN\")\n    },\n    close() {\n      send(\"CLOSE\")\n    },\n    setHighlightedId(id) {\n      send({ type: \"SET_HIGHLIGHTED_ID\", id })\n    },\n    setParent(parent) {\n      send({ type: \"SET_PARENT\", value: parent, id: parent.state.context.id })\n    },\n    setChild(child) {\n      send({ type: \"SET_CHILD\", value: child, id: child.state.context.id })\n    },\n    value: values,\n    setValue(name, value) {\n      send({ type: \"SET_VALUE\", name, value })\n    },\n    reposition(options = {}) {\n      send({ type: \"SET_POSITIONING\", options })\n    },\n\n    contextTriggerProps: normalize.element({\n      ...parts.contextTrigger.attrs,\n      dir: state.context.dir,\n      id: dom.getContextTriggerId(state.context),\n      onPointerDown(event) {\n        if (event.pointerType === \"mouse\") return\n        const evt = getNativeEvent(event)\n        const point = getEventPoint(evt)\n        send({ type: \"CONTEXT_MENU_START\", point })\n      },\n      onPointerCancel(event) {\n        if (event.pointerType === \"mouse\") return\n        send(\"CONTEXT_MENU_CANCEL\")\n      },\n      onPointerMove(event) {\n        if (event.pointerType === \"mouse\") return\n        send(\"CONTEXT_MENU_CANCEL\")\n      },\n      onPointerUp(event) {\n        if (event.pointerType === \"mouse\") return\n        send(\"CONTEXT_MENU_CANCEL\")\n      },\n      onContextMenu(event) {\n        const evt = getNativeEvent(event)\n        const point = getEventPoint(evt)\n        send({ type: \"CONTEXT_MENU\", point })\n        event.preventDefault()\n      },\n      style: {\n        WebkitTouchCallout: \"none\",\n        userSelect: \"none\",\n      },\n    }),\n\n    getTriggerItemProps(childApi) {\n      return mergeProps(getItemProps({ id: childApi.triggerProps.id }), childApi.triggerProps) as T[\"element\"]\n    },\n\n    triggerProps: normalize.button({\n      ...(isSubmenu ? parts.triggerItem.attrs : parts.trigger.attrs),\n      \"data-placement\": state.context.currentPlacement,\n      type: \"button\",\n      dir: state.context.dir,\n      id: dom.getTriggerId(state.context),\n      \"data-uid\": state.context.id,\n      \"aria-haspopup\": \"menu\",\n      \"aria-controls\": dom.getContentId(state.context),\n      \"aria-expanded\": isOpen || undefined,\n      \"data-state\": isOpen ? \"open\" : \"closed\",\n      onPointerMove(event) {\n        if (event.pointerType !== \"mouse\") return\n        const disabled = dom.isTargetDisabled(event.currentTarget)\n        if (disabled || !isSubmenu) return\n        send({ type: \"TRIGGER_POINTERMOVE\", target: event.currentTarget })\n      },\n      onPointerLeave(event) {\n        if (event.pointerType !== \"mouse\") return\n        const evt = getNativeEvent(event)\n\n        const disabled = dom.isTargetDisabled(event.currentTarget)\n        if (disabled || !isSubmenu) return\n\n        const point = getEventPoint(evt)\n        send({ type: \"TRIGGER_POINTERLEAVE\", target: event.currentTarget, point })\n      },\n      onClick(event) {\n        if (dom.isTriggerItem(event.currentTarget)) {\n          send({ type: \"TRIGGER_CLICK\", target: event.currentTarget })\n        }\n      },\n      onPointerDown(event) {\n        const disabled = dom.isTargetDisabled(event.currentTarget)\n        const evt = getNativeEvent(event)\n        if (!isLeftClick(evt) || disabled || isContextMenuEvent(event)) return\n        event.preventDefault()\n        if (!dom.isTriggerItem(event.currentTarget)) {\n          send({ type: \"TRIGGER_CLICK\", target: event.currentTarget })\n        }\n      },\n      onBlur() {\n        send(\"TRIGGER_BLUR\")\n      },\n      onFocus() {\n        send(\"TRIGGER_FOCUS\")\n      },\n      onKeyDown(event) {\n        const keyMap: EventKeyMap = {\n          ArrowDown() {\n            send(\"ARROW_DOWN\")\n          },\n          ArrowUp() {\n            send(\"ARROW_UP\")\n          },\n          Enter() {\n            send({ type: \"ARROW_DOWN\" })\n          },\n          Space() {\n            send({ type: \"ARROW_DOWN\" })\n          },\n        }\n\n        const key = getEventKey(event, state.context)\n        const exec = keyMap[key]\n\n        if (exec) {\n          event.preventDefault()\n          exec(event)\n        }\n      },\n    }),\n\n    indicatorProps: normalize.element({\n      ...parts.indicator.attrs,\n      dir: state.context.dir,\n      \"data-state\": isOpen ? \"open\" : \"closed\",\n    }),\n\n    positionerProps: normalize.element({\n      ...parts.positioner.attrs,\n      dir: state.context.dir,\n      id: dom.getPositionerId(state.context),\n      style: popperStyles.floating,\n    }),\n\n    arrowProps: normalize.element({\n      id: dom.getArrowId(state.context),\n      ...parts.arrow.attrs,\n      dir: state.context.dir,\n      style: popperStyles.arrow,\n    }),\n\n    arrowTipProps: normalize.element({\n      ...parts.arrowTip.attrs,\n      dir: state.context.dir,\n      style: popperStyles.arrowTip,\n    }),\n\n    contentProps: normalize.element({\n      ...parts.content.attrs,\n      id: dom.getContentId(state.context),\n      \"aria-label\": state.context[\"aria-label\"],\n      hidden: !isOpen,\n      \"data-state\": isOpen ? \"open\" : \"closed\",\n      role: \"menu\",\n      tabIndex: 0,\n      dir: state.context.dir,\n      \"aria-activedescendant\": state.context.highlightedId ?? undefined,\n      \"aria-labelledby\": dom.getTriggerId(state.context),\n      \"data-placement\": state.context.currentPlacement,\n      onPointerEnter(event) {\n        if (event.pointerType !== \"mouse\") return\n        send(\"MENU_POINTERENTER\")\n      },\n      onKeyDown(event) {\n        const target = getEventTarget<HTMLElement>(getNativeEvent(event))\n        const isKeyDownInside = target?.closest(\"[role=menu]\") === event.currentTarget\n\n        if (!isSelfEvent(event) || !isKeyDownInside) return\n\n        const item = dom.getFocusedItem(state.context)\n        const isLink = !!item?.matches(\"a[href]\")\n\n        const keyMap: EventKeyMap = {\n          ArrowDown() {\n            send(\"ARROW_DOWN\")\n          },\n          ArrowUp() {\n            send(\"ARROW_UP\")\n          },\n          ArrowLeft() {\n            send(\"ARROW_LEFT\")\n          },\n          ArrowRight() {\n            send(\"ARROW_RIGHT\")\n          },\n          Enter() {\n            if (isLink) item?.click()\n            send(\"ENTER\")\n          },\n          Space(event) {\n            if (isTypingAhead) {\n              send({ type: \"TYPEAHEAD\", key: event.key })\n            } else {\n              keyMap.Enter?.(event)\n            }\n          },\n          Home() {\n            send(\"HOME\")\n          },\n          End() {\n            send(\"END\")\n          },\n          Tab(event) {\n            send({ type: \"TAB\", shiftKey: event.shiftKey, loop: false })\n          },\n        }\n\n        const key = getEventKey(event, { dir: state.context.dir })\n        const exec = keyMap[key]\n\n        if (exec) {\n          const allow = isLink && key === \"Enter\"\n          exec(event)\n          if (!allow) {\n            event.preventDefault()\n          }\n          //\n        } else {\n          //\n          const isSingleKey = event.key.length === 1\n          const isValidTypeahead = isSingleKey && !isModifiedEvent(event) && !isEditableElement(item)\n\n          if (!isValidTypeahead) return\n\n          send({ type: \"TYPEAHEAD\", key: event.key })\n          event.preventDefault()\n        }\n      },\n    }),\n\n    separatorProps: normalize.element({\n      ...parts.separator.attrs,\n      role: \"separator\",\n      dir: state.context.dir,\n      \"aria-orientation\": \"horizontal\",\n    }),\n    getItemState,\n    getItemProps,\n\n    getOptionItemState,\n    getOptionItemProps(props) {\n      const { name, type, disabled, onCheckedChange, closeOnSelect } = props\n\n      const option = getOptionItemProps(props)\n      const itemState = getOptionItemState(props)\n\n      return {\n        ...getItemProps(option),\n        ...normalize.element({\n          \"data-type\": type,\n          \"data-name\": name,\n          ...parts.optionItem.attrs,\n          dir: state.context.dir,\n          \"data-value\": option.value,\n          role: `menuitem${type}`,\n          \"aria-checked\": !!itemState.isChecked,\n          \"data-state\": itemState.isChecked ? \"checked\" : \"unchecked\",\n          onPointerUp(event) {\n            const evt = getNativeEvent(event)\n            if (!isLeftClick(evt) || disabled) return\n            const target = event.currentTarget\n            send({ type: \"ITEM_CLICK\", src: \"pointerup\", target, option, closeOnSelect })\n            onCheckedChange?.(!itemState.isChecked)\n          },\n        }),\n      }\n    },\n\n    getOptionItemIndicatorProps(props) {\n      const itemState = getOptionItemState(props)\n      return normalize.element({\n        ...parts.optionItemIndicator.attrs,\n        dir: state.context.dir,\n        \"data-disabled\": dataAttr(itemState.isDisabled),\n        \"data-highlighted\": dataAttr(itemState.isHighlighted),\n        \"data-state\": itemState.isChecked ? \"checked\" : \"unchecked\",\n        hidden: !itemState.isChecked,\n      })\n    },\n\n    getOptionItemTextProps(props) {\n      const itemState = getOptionItemState(props)\n      return normalize.element({\n        ...parts.optionItemText.attrs,\n        dir: state.context.dir,\n        \"data-disabled\": dataAttr(itemState.isDisabled),\n        \"data-highlighted\": dataAttr(itemState.isHighlighted),\n        \"data-state\": itemState.isChecked ? \"checked\" : \"unchecked\",\n      })\n    },\n\n    getItemGroupLabelProps(props) {\n      return normalize.element({\n        id: dom.getGroupLabelId(state.context, props.htmlFor),\n        dir: state.context.dir,\n        ...parts.itemGroupLabel.attrs,\n      })\n    },\n\n    getItemGroupProps(props) {\n      return normalize.element({\n        id: dom.getGroupId(state.context, props.id),\n        ...parts.itemGroup.attrs,\n        dir: state.context.dir,\n        \"aria-labelledby\": dom.getGroupLabelId(state.context, props.id),\n        role: \"group\",\n      })\n    },\n  }\n}\n","import { isHTMLElement, nextById, prevById, queryAll, getByTypeahead, createScope } from \"@zag-js/dom-query\"\nimport { first, last } from \"@zag-js/utils\"\nimport type { MachineContext as Ctx } from \"./menu.types\"\n\nexport const dom = createScope({\n  getTriggerId: (ctx: Ctx) => ctx.ids?.trigger ?? `menu:${ctx.id}:trigger`,\n  getContextTriggerId: (ctx: Ctx) => ctx.ids?.contextTrigger ?? `menu:${ctx.id}:ctx-trigger`,\n  getContentId: (ctx: Ctx) => ctx.ids?.content ?? `menu:${ctx.id}:content`,\n  getArrowId: (ctx: Ctx) => ctx.ids?.arrow ?? `menu:${ctx.id}:arrow`,\n  getPositionerId: (ctx: Ctx) => ctx.ids?.positioner ?? `menu:${ctx.id}:popper`,\n  getGroupId: (ctx: Ctx, id: string) => ctx.ids?.group?.(id) ?? `menu:${ctx.id}:group:${id}`,\n  getGroupLabelId: (ctx: Ctx, id: string) => ctx.ids?.label?.(id) ?? `menu:${ctx.id}:label:${id}`,\n\n  getContentEl: (ctx: Ctx) => dom.getById(ctx, dom.getContentId(ctx)),\n  getPositionerEl: (ctx: Ctx) => dom.getById(ctx, dom.getPositionerId(ctx)),\n  getTriggerEl: (ctx: Ctx) => dom.getById(ctx, dom.getTriggerId(ctx)),\n  getFocusedItem: (ctx: Ctx) => (ctx.highlightedId ? dom.getById(ctx, ctx.highlightedId) : null),\n  getArrowEl: (ctx: Ctx) => dom.getById(ctx, dom.getArrowId(ctx)),\n\n  getElements: (ctx: Ctx) => {\n    const ownerId = CSS.escape(dom.getContentId(ctx))\n    const selector = `[role^=\"menuitem\"][data-ownedby=${ownerId}]:not([data-disabled])`\n    return queryAll(dom.getContentEl(ctx), selector)\n  },\n  getFirstEl: (ctx: Ctx) => first(dom.getElements(ctx)),\n  getLastEl: (ctx: Ctx) => last(dom.getElements(ctx)),\n  getNextEl: (ctx: Ctx, loop?: boolean) => nextById(dom.getElements(ctx), ctx.highlightedId!, loop ?? ctx.loop),\n  getPrevEl: (ctx: Ctx, loop?: boolean) => prevById(dom.getElements(ctx), ctx.highlightedId!, loop ?? ctx.loop),\n\n  getElemByKey: (ctx: Ctx, key: string) =>\n    getByTypeahead(dom.getElements(ctx), { state: ctx.typeahead, key, activeId: ctx.highlightedId }),\n\n  isTargetDisabled: (v: EventTarget | null) => {\n    return isHTMLElement(v) && (v.dataset.disabled === \"\" || v.hasAttribute(\"disabled\"))\n  },\n  isTriggerItem: (el: HTMLElement | null) => {\n    return !!el?.getAttribute(\"role\")?.startsWith(\"menuitem\") && !!el?.hasAttribute(\"aria-controls\")\n  },\n  getHighlightedOptionEl(ctx: Ctx) {\n    if (!ctx.highlightedId) return null\n    return dom.getById(ctx, ctx.highlightedId)\n  },\n})\n","import { createMachine, guards, ref } from \"@zag-js/core\"\nimport { trackDismissableElement } from \"@zag-js/dismissable\"\nimport { addDomEvent } from \"@zag-js/dom-event\"\nimport { contains, getByTypeahead, isEditableElement, raf } from \"@zag-js/dom-query\"\nimport { observeAttributes } from \"@zag-js/mutation-observer\"\nimport { getPlacementSide, getPlacement } from \"@zag-js/popper\"\nimport { getElementPolygon, isPointInPolygon } from \"@zag-js/rect-utils\"\nimport { add, cast, compact, isArray, remove } from \"@zag-js/utils\"\nimport { dom } from \"./menu.dom\"\nimport type { MachineContext, MachineState, UserDefinedContext } from \"./menu.types\"\n\nconst { not, and } = guards\n\nexport function machine(userContext: UserDefinedContext) {\n  const ctx = compact(userContext)\n  return createMachine<MachineContext, MachineState>(\n    {\n      id: \"menu\",\n      initial: ctx.open ? \"open\" : \"idle\",\n      context: {\n        highlightedId: null,\n        hoverId: null,\n        parent: null,\n        children: cast(ref({})),\n        intentPolygon: null,\n        loop: false,\n        suspendPointer: false,\n        anchorPoint: null,\n        closeOnSelect: true,\n        focusTriggerOnClose: true,\n        ...ctx,\n        typeahead: getByTypeahead.defaultOptions,\n        positioning: {\n          placement: \"bottom-start\",\n          gutter: 8,\n          ...ctx.positioning,\n        },\n      },\n\n      computed: {\n        isSubmenu: (ctx) => ctx.parent !== null,\n        isRtl: (ctx) => ctx.dir === \"rtl\",\n        isTypingAhead: (ctx) => ctx.typeahead.keysSoFar !== \"\",\n      },\n\n      watch: {\n        isSubmenu: \"setSubmenuPlacement\",\n        anchorPoint: \"reposition\",\n        open: \"toggleVisibility\",\n      },\n\n      on: {\n        SET_PARENT: {\n          actions: \"setParentMenu\",\n        },\n        SET_CHILD: {\n          actions: \"setChildMenu\",\n        },\n        OPEN: {\n          target: \"open\",\n          actions: \"invokeOnOpen\",\n        },\n        OPEN_AUTOFOCUS: {\n          internal: true,\n          target: \"open\",\n          actions: [\"focusFirstItem\", \"invokeOnOpen\"],\n        },\n        CLOSE: {\n          target: \"closed\",\n          actions: \"invokeOnClose\",\n        },\n        RESTORE_FOCUS: {\n          actions: \"restoreFocus\",\n        },\n        SET_VALUE: {\n          actions: [\"setOptionValue\", \"invokeOnValueChange\"],\n        },\n        SET_HIGHLIGHTED_ID: {\n          actions: \"setFocusedItem\",\n        },\n      },\n\n      states: {\n        idle: {\n          on: {\n            CONTEXT_MENU_START: {\n              target: \"opening:contextmenu\",\n              actions: \"setAnchorPoint\",\n            },\n            CONTEXT_MENU: {\n              target: \"open\",\n              actions: [\"setAnchorPoint\", \"invokeOnOpen\"],\n            },\n            TRIGGER_CLICK: {\n              target: \"open\",\n              actions: \"invokeOnOpen\",\n            },\n            TRIGGER_FOCUS: {\n              guard: not(\"isSubmenu\"),\n              target: \"closed\",\n            },\n            TRIGGER_POINTERMOVE: {\n              guard: \"isSubmenu\",\n              target: \"opening\",\n            },\n          },\n        },\n\n        \"opening:contextmenu\": {\n          after: {\n            LONG_PRESS_DELAY: {\n              target: \"open\",\n              actions: \"invokeOnOpen\",\n            },\n          },\n          on: {\n            CONTEXT_MENU_CANCEL: {\n              target: \"closed\",\n              actions: \"invokeOnClose\",\n            },\n          },\n        },\n\n        opening: {\n          after: {\n            SUBMENU_OPEN_DELAY: {\n              target: \"open\",\n              actions: \"invokeOnOpen\",\n            },\n          },\n          on: {\n            BLUR: {\n              target: \"closed\",\n              actions: \"invokeOnClose\",\n            },\n            TRIGGER_POINTERLEAVE: {\n              target: \"closed\",\n              actions: \"invokeOnClose\",\n            },\n          },\n        },\n\n        closing: {\n          tags: [\"visible\"],\n          activities: [\"trackPointerMove\", \"trackInteractOutside\"],\n          after: {\n            SUBMENU_CLOSE_DELAY: {\n              target: \"closed\",\n              actions: [\"focusParentMenu\", \"restoreParentFocus\", \"invokeOnClose\"],\n            },\n          },\n          on: {\n            MENU_POINTERENTER: {\n              target: \"open\",\n              actions: \"clearIntentPolygon\",\n            },\n            POINTER_MOVED_AWAY_FROM_SUBMENU: {\n              target: \"closed\",\n              actions: [\"focusParentMenu\", \"restoreParentFocus\"],\n            },\n          },\n        },\n\n        closed: {\n          entry: [\"clearFocusedItem\", \"focusTrigger\", \"clearAnchorPoint\", \"resumePointer\"],\n          on: {\n            CONTEXT_MENU_START: {\n              target: \"opening:contextmenu\",\n              actions: \"setAnchorPoint\",\n            },\n            CONTEXT_MENU: {\n              target: \"open\",\n              actions: [\"setAnchorPoint\", \"invokeOnOpen\"],\n            },\n            TRIGGER_CLICK: {\n              target: \"open\",\n              actions: \"invokeOnOpen\",\n            },\n            TRIGGER_POINTERMOVE: {\n              guard: \"isTriggerItem\",\n              target: \"opening\",\n            },\n            TRIGGER_BLUR: \"idle\",\n            ARROW_DOWN: {\n              target: \"open\",\n              actions: [\"focusFirstItem\", \"invokeOnOpen\"],\n            },\n            ARROW_UP: {\n              target: \"open\",\n              actions: [\"focusLastItem\", \"invokeOnOpen\"],\n            },\n          },\n        },\n\n        open: {\n          tags: [\"visible\"],\n          activities: [\"trackInteractOutside\", \"trackPositioning\", \"scrollToHighlightedItem\"],\n          entry: [\"focusMenu\", \"resumePointer\"],\n          on: {\n            TRIGGER_CLICK: {\n              guard: not(\"isTriggerItem\"),\n              target: \"closed\",\n              actions: \"invokeOnClose\",\n            },\n            TAB: [\n              {\n                guard: \"isForwardTabNavigation\",\n                actions: [\"focusNextItem\"],\n              },\n              { actions: [\"focusPrevItem\"] },\n            ],\n            ARROW_UP: {\n              actions: [\"focusPrevItem\", \"focusMenu\"],\n            },\n            ARROW_DOWN: {\n              actions: [\"focusNextItem\", \"focusMenu\"],\n            },\n            ARROW_LEFT: {\n              guard: \"isSubmenu\",\n              target: \"closed\",\n              actions: [\"focusParentMenu\", \"invokeOnClose\"],\n            },\n            HOME: {\n              actions: [\"focusFirstItem\", \"focusMenu\"],\n            },\n            END: {\n              actions: [\"focusLastItem\", \"focusMenu\"],\n            },\n            REQUEST_CLOSE: {\n              target: \"closed\",\n              actions: \"invokeOnClose\",\n            },\n            ARROW_RIGHT: {\n              guard: \"isTriggerItemFocused\",\n              actions: \"openSubmenu\",\n            },\n            ENTER: [\n              {\n                guard: \"isTriggerItemFocused\",\n                actions: \"openSubmenu\",\n              },\n              {\n                guard: \"closeOnSelect\",\n                target: \"closed\",\n                actions: \"clickFocusedItem\",\n              },\n              {\n                actions: \"clickFocusedItem\",\n              },\n            ],\n            ITEM_POINTERMOVE: [\n              {\n                guard: and(not(\"suspendPointer\"), not(\"isTargetFocused\")),\n                actions: [\"focusItem\", \"focusMenu\"],\n              },\n              {\n                guard: not(\"isTargetFocused\"),\n                actions: \"setHoveredItem\",\n              },\n            ],\n            ITEM_POINTERLEAVE: {\n              guard: and(not(\"suspendPointer\"), not(\"isTriggerItem\")),\n              actions: \"clearFocusedItem\",\n            },\n            ITEM_CLICK: [\n              {\n                guard: and(not(\"isTriggerItemFocused\"), not(\"isFocusedItemEditable\"), \"closeOnSelect\"),\n                target: \"closed\",\n                actions: [\n                  \"invokeOnSelect\",\n                  \"changeOptionValue\",\n                  \"invokeOnValueChange\",\n                  \"closeRootMenu\",\n                  \"invokeOnClose\",\n                ],\n              },\n              {\n                guard: and(not(\"isTriggerItemFocused\"), not(\"isFocusedItemEditable\")),\n                actions: [\"invokeOnSelect\", \"changeOptionValue\", \"invokeOnValueChange\"],\n              },\n              { actions: \"focusItem\" },\n            ],\n            TRIGGER_POINTERLEAVE: {\n              target: \"closing\",\n              actions: \"setIntentPolygon\",\n            },\n            ITEM_POINTERDOWN: {\n              actions: \"focusItem\",\n            },\n            TYPEAHEAD: {\n              actions: \"focusMatchedItem\",\n            },\n            FOCUS_MENU: {\n              actions: \"focusMenu\",\n            },\n            SET_POSITIONING: {\n              actions: \"reposition\",\n            },\n          },\n        },\n      },\n    },\n    {\n      delays: {\n        LONG_PRESS_DELAY: 700,\n        SUBMENU_OPEN_DELAY: 100,\n        SUBMENU_CLOSE_DELAY: 100,\n      },\n\n      guards: {\n        closeOnSelect: (ctx, evt) => !!(evt?.closeOnSelect ?? ctx.closeOnSelect),\n        isMenuFocused: (ctx) => contains(dom.getContentEl(ctx), dom.getActiveElement(ctx)),\n        isTargetFocused: (ctx, evt) => ctx.highlightedId === evt.target.id,\n        // whether the trigger is also a menu item\n        isTriggerItem: (_ctx, evt) => dom.isTriggerItem(evt.target),\n        // whether the trigger item is the active item\n        isTriggerItemFocused: (ctx, evt) => {\n          const target = (evt.target ?? dom.getFocusedItem(ctx)) as HTMLElement | null\n          return !!target?.hasAttribute(\"aria-controls\")\n        },\n        isForwardTabNavigation: (_ctx, evt) => !evt.shiftKey,\n        isSubmenu: (ctx) => ctx.isSubmenu,\n        suspendPointer: (ctx) => ctx.suspendPointer,\n        isFocusedItemEditable: (ctx) => isEditableElement(dom.getFocusedItem(ctx)),\n        isWithinPolygon: (ctx, evt) => {\n          if (!ctx.intentPolygon) return false\n          return isPointInPolygon(ctx.intentPolygon, evt.point)\n        },\n      },\n\n      activities: {\n        trackPositioning(ctx) {\n          if (ctx.anchorPoint) return\n          ctx.currentPlacement = ctx.positioning.placement\n          const getPositionerEl = () => dom.getPositionerEl(ctx)\n          return getPlacement(dom.getTriggerEl(ctx), getPositionerEl, {\n            ...ctx.positioning,\n            defer: true,\n            onComplete(data) {\n              ctx.currentPlacement = data.placement\n            },\n          })\n        },\n        trackInteractOutside(ctx, _evt, { send }) {\n          const getContentEl = () => dom.getContentEl(ctx)\n          return trackDismissableElement(getContentEl, {\n            defer: true,\n            exclude: [dom.getTriggerEl(ctx)],\n            onInteractOutside: ctx.onInteractOutside,\n            onFocusOutside: ctx.onFocusOutside,\n            onEscapeKeyDown(event) {\n              if (ctx.isSubmenu) event.preventDefault()\n              closeRootMenu(ctx)\n            },\n            onPointerDownOutside(event) {\n              ctx.focusTriggerOnClose = !event.detail.focusable\n              ctx.onPointerDownOutside?.(event)\n            },\n            onDismiss() {\n              send({ type: \"REQUEST_CLOSE\", src: \"interact-outside\" })\n            },\n          })\n        },\n        trackPointerMove(ctx, _evt, { guards, send }) {\n          const { isWithinPolygon } = guards\n          // NOTE: we're mutating parent context here. sending events to parent doesn't work\n          ctx.parent!.state.context.suspendPointer = true\n\n          const doc = dom.getDoc(ctx)\n          return addDomEvent(doc, \"pointermove\", (e) => {\n            const point = { x: e.clientX, y: e.clientY }\n            const isMovingToSubmenu = isWithinPolygon(ctx, { point })\n            if (!isMovingToSubmenu) {\n              send(\"POINTER_MOVED_AWAY_FROM_SUBMENU\")\n              // NOTE: we're mutating parent context here. sending events to parent doesn't work\n              ctx.parent!.state.context.suspendPointer = false\n            }\n          })\n        },\n        scrollToHighlightedItem(ctx, _evt, { getState }) {\n          const exec = () => {\n            const state = getState()\n            if (state.event.type.startsWith(\"ITEM_POINTER\")) return\n            const optionEl = dom.getHighlightedOptionEl(ctx)\n            optionEl?.scrollIntoView({ block: \"nearest\" })\n          }\n          raf(() => exec())\n          return observeAttributes(dom.getContentEl(ctx), [\"aria-activedescendant\"], exec)\n        },\n      },\n\n      actions: {\n        setAnchorPoint(ctx, evt) {\n          ctx.anchorPoint = evt.point\n        },\n        clearAnchorPoint(ctx) {\n          ctx.anchorPoint = null\n        },\n        setSubmenuPlacement(ctx) {\n          if (!ctx.isSubmenu) return\n          ctx.positioning.placement = ctx.isRtl ? \"left-start\" : \"right-start\"\n          ctx.positioning.gutter = 0\n        },\n        reposition(ctx, evt) {\n          const getPositionerEl = () => dom.getPositionerEl(ctx)\n          const getAnchorRect = ctx.anchorPoint ? () => ({ width: 0, height: 0, ...ctx.anchorPoint }) : undefined\n          getPlacement(dom.getTriggerEl(ctx), getPositionerEl, {\n            ...ctx.positioning,\n            getAnchorRect,\n            ...(evt.options ?? {}),\n            listeners: false,\n            onComplete(data) {\n              ctx.currentPlacement = data.placement\n            },\n          })\n        },\n        invokeOnValueChange(ctx, evt) {\n          if (!ctx.value) return\n          const name = evt.name ?? evt.option?.name\n          if (!name) return\n          const values = ctx.value[name]\n          const valueAsArray = isArray(values) ? Array.from(values) : values\n          ctx.onValueChange?.({ name, value: valueAsArray })\n        },\n        setOptionValue(ctx, evt) {\n          if (!ctx.value) return\n          ctx.value[evt.name] = evt.value\n        },\n        changeOptionValue(ctx, evt) {\n          if (!evt.option || !ctx.value) return\n          const { value, type, name } = evt.option\n          const values = ctx.value[name]\n          if (type === \"checkbox\" && isArray(values)) {\n            ctx.value[name] = values.includes(value) ? remove(values, value) : add(values, value)\n          } else {\n            ctx.value[name] = value\n          }\n        },\n        clickFocusedItem(ctx, _evt, { send }) {\n          const itemEl = dom.getFocusedItem(ctx)\n          if (!itemEl || itemEl.dataset.disabled) return\n          const option = {\n            id: itemEl.id,\n            name: itemEl.dataset.name,\n            value: itemEl.dataset.value,\n            valueText: itemEl.dataset.valueText,\n            type: itemEl.dataset.type,\n          }\n          send({\n            type: \"ITEM_CLICK\",\n            src: \"enter\",\n            target: itemEl,\n            id: option.id,\n            option,\n            closeOnSelect: ctx.closeOnSelect,\n          })\n        },\n        setIntentPolygon(ctx, evt) {\n          const menu = dom.getContentEl(ctx)\n          const placement = ctx.currentPlacement\n\n          if (!menu || !placement) return\n\n          const rect = menu.getBoundingClientRect()\n          const polygon = getElementPolygon(rect, placement)\n          if (!polygon) return\n\n          const rightSide = getPlacementSide(placement) === \"right\"\n          const bleed = rightSide ? -5 : +5\n\n          ctx.intentPolygon = [{ ...evt.point, x: evt.point.x + bleed }, ...polygon]\n        },\n        clearIntentPolygon(ctx) {\n          ctx.intentPolygon = null\n        },\n        resumePointer(ctx) {\n          if (!ctx.parent) return\n          ctx.parent.state.context.suspendPointer = false\n        },\n        setFocusedItem(ctx, evt) {\n          ctx.highlightedId = evt.id\n        },\n        clearFocusedItem(ctx) {\n          ctx.highlightedId = null\n        },\n        focusMenu(ctx) {\n          raf(() => {\n            const activeEl = dom.getActiveElement(ctx)\n            const contentEl = dom.getContentEl(ctx)\n            if (contains(contentEl, activeEl)) return\n            contentEl?.focus({ preventScroll: true })\n          })\n        },\n        focusFirstItem(ctx) {\n          const first = dom.getFirstEl(ctx)\n          if (!first) return\n          ctx.highlightedId = first.id\n        },\n        focusLastItem(ctx) {\n          const last = dom.getLastEl(ctx)\n          if (!last) return\n          ctx.highlightedId = last.id\n        },\n        focusNextItem(ctx, evt) {\n          const next = dom.getNextEl(ctx, evt.loop)\n          ctx.highlightedId = next?.id ?? null\n        },\n        focusPrevItem(ctx, evt) {\n          const prev = dom.getPrevEl(ctx, evt.loop)\n          ctx.highlightedId = prev?.id ?? null\n        },\n        invokeOnSelect(ctx) {\n          if (!ctx.highlightedId) return\n          ctx.onSelect?.({ value: ctx.highlightedId })\n        },\n        focusItem(ctx, evt) {\n          ctx.highlightedId = evt.id\n        },\n        focusTrigger(ctx) {\n          if (ctx.isSubmenu || ctx.anchorPoint || !ctx.focusTriggerOnClose) return\n          raf(() => dom.getTriggerEl(ctx)?.focus({ preventScroll: true }))\n        },\n        focusMatchedItem(ctx, evt) {\n          const node = dom.getElemByKey(ctx, evt.key)\n          if (node) ctx.highlightedId = node.id\n        },\n        setParentMenu(ctx, evt) {\n          ctx.parent = ref(evt.value)\n        },\n        setChildMenu(ctx, evt) {\n          ctx.children[evt.id] = ref(evt.value)\n        },\n        closeRootMenu(ctx) {\n          closeRootMenu(ctx)\n        },\n        openSubmenu(ctx) {\n          const item = dom.getFocusedItem(ctx)\n          const id = item?.getAttribute(\"data-uid\")\n          const child = id ? ctx.children[id] : null\n          child?.send(\"OPEN_AUTOFOCUS\")\n        },\n        focusParentMenu(ctx) {\n          ctx.parent?.send(\"FOCUS_MENU\")\n        },\n        setHoveredItem(ctx, evt) {\n          ctx.hoverId = evt.id\n        },\n        restoreFocus(ctx) {\n          if (!ctx.hoverId) return\n          ctx.highlightedId = ctx.hoverId\n          ctx.hoverId = null\n        },\n        restoreParentFocus(ctx) {\n          ctx.parent?.send(\"RESTORE_FOCUS\")\n        },\n        invokeOnOpen(ctx) {\n          ctx.onOpenChange?.({ open: true })\n        },\n        invokeOnClose(ctx) {\n          ctx.onOpenChange?.({ open: false })\n        },\n        toggleVisibility(ctx, _evt, { send }) {\n          send({ type: ctx.open ? \"OPEN\" : \"CLOSE\" })\n        },\n      },\n    },\n  )\n}\n\nfunction closeRootMenu(ctx: MachineContext) {\n  let parent = ctx.parent\n  while (parent && parent.state.context.isSubmenu) {\n    parent = parent.state.context.parent\n  }\n  parent?.send(\"CLOSE\")\n}\n"],"mappings":"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","names":["event","getByTypeahead","isEditableElement","getByTypeahead","ctx","isEditableElement","guards","first","last"]}