'use client';
'use strict';

Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });

const jsxRuntime = require('react/jsx-runtime');
const react = require('react');
const runIfFn = require('../run-if-fn.cjs');
const environmentContext = require('./environment-context.cjs');

const Environment = (props) => {
  const { value, children } = props;
  const ref = react.useRef(null);
  const getRootNode = react.useMemo(() => {
    return () => runIfFn.runIfFn(value) ?? ref.current?.ownerDocument ?? document;
  }, [value]);
  const showSpan = !value;
  return /* @__PURE__ */ jsxRuntime.jsxs(environmentContext.EnvironmentProvider, { value: getRootNode, children: [
    children,
    showSpan && /* @__PURE__ */ jsxRuntime.jsx("span", { "data-ark-env": "", hidden: true, ref })
  ] });
};

exports.Environment = Environment;
